{"ast":null,"code":"import{mockProducts}from'../data/mockProducts';// ğŸ³ ë§Œê°œì˜ ë ˆì‹œí”¼ ì›ë³¸ ë°ì´í„° êµ¬ì¡°\n// ğŸ§® AI ê¸°ë°˜ ì˜ì–‘ì†Œ ê³„ì‚°ê¸°\nclass NutritionCalculator{constructor(){// ê¸°ë³¸ ì˜ì–‘ ë°ì´í„°ë² ì´ìŠ¤ (ë†ì§„ì²­ ê¸°ì¤€)\nthis.nutritionDB={// ğŸ¥š ë‹¨ë°±ì§ˆë¥˜\n'ê³„ë€':{calories:155,protein:12.6,carb:1.1,fat:11.1,per100g:true},'ë¹„ì—”ë‚˜':{calories:315,protein:12.0,carb:2.0,fat:28.5,per100g:true},'í›ˆì œì—°ì–´':{calories:117,protein:25.4,carb:0,fat:4.3,per100g:true},'ìš°ì‚¼ê²¹':{calories:331,protein:15.0,carb:0,fat:30.0,per100g:true},// ğŸ¥¬ ì±„ì†Œë¥˜\n'ì•Œë°°ê¸°ë°°ì¶”':{calories:14,protein:1.3,carb:2.8,fat:0.1,per100g:true},'ë‹¹ê·¼':{calories:37,protein:0.8,carb:8.8,fat:0.2,per100g:true},'ë§ˆëŠ˜':{calories:130,protein:6.2,carb:28.4,fat:0.3,per100g:true},'ëŒ€íŒŒ':{calories:27,protein:1.4,carb:6.2,fat:0.1,per100g:true},'ì–‘íŒŒ':{calories:37,protein:1.0,carb:8.9,fat:0.1,per100g:true},'ì•„ë³´ì¹´ë„':{calories:190,protein:2.0,carb:8.6,fat:19.5,per100g:true},'ìˆ™ì£¼':{calories:13,protein:1.4,carb:2.1,fat:0.1,per100g:true},'ê¹»ì':{calories:41,protein:3.9,carb:7.1,fat:0.7,per100g:true},// ğŸš ê³¡ë¬¼ë¥˜\n'ë°¥':{calories:130,protein:2.5,carb:29.0,fat:0.3,per100g:true},'ë–¡ë³¶ì´ë–¡':{calories:124,protein:2.6,carb:28.0,fat:0.4,per100g:true},// ğŸ§„ ì¡°ë¯¸ë£Œë¥˜\n'ì†Œê¸ˆ':{calories:0,protein:0,carb:0,fat:0,per100g:true},'ê°„ì¥':{calories:53,protein:8.9,carb:4.6,fat:0.1,per100g:true},'ì„¤íƒ•':{calories:387,protein:0,carb:99.8,fat:0,per100g:true},'ì°¸ê¸°ë¦„':{calories:900,protein:0,carb:0,fat:100,per100g:true},'ë§ˆìš”ë„¤ì¦ˆ':{calories:680,protein:1.1,carb:2.9,fat:75.3,per100g:true},'ë•…ì½©ë²„í„°':{calories:588,protein:22.5,carb:22.3,fat:49.9,per100g:true}};}// ë‹¨ìœ„ ë³€í™˜ê¸°\nconvertToGrams(quantity,unit,ingredientName){const conversions={'g':1,'kg':1000,'ml':1,// ë¬¼ ê¸°ì¤€ 1ml = 1g\n'ê°œ':this.getItemWeight(ingredientName),'ì¥':this.getSheetWeight(ingredientName),'í†µ':this.getWholeWeight(ingredientName),'ê³µê¸°':150,// ë°¥ 1ê³µê¸°\n'ë´‰':this.getPackageWeight(ingredientName),'ë‹¨':this.getBunchWeight(ingredientName),'T':15,// í°ìˆ \n't':5,// ì‘ì€ìˆ \n'í°ìˆ ':15,'ì‘ì€ìˆ ':5,'ìŠ¤í‘¼':15};return quantity*(conversions[unit]||50);// ê¸°ë³¸ê°’ 50g\n}getItemWeight(ingredientName){const weights={'ê³„ë€':50,// ê³„ë€ 1ê°œ = 50g\n'ë§ˆëŠ˜':5,// ë§ˆëŠ˜ 1ê°œ = 5g  \n'ì–‘íŒŒ':200,// ì–‘íŒŒ 1ê°œ = 200g\n'ê°ì':150,// ê°ì 1ê°œ = 150g\n'ë‹¹ê·¼':100// ë‹¹ê·¼ 1ê°œ = 100g\n};return weights[ingredientName]||50;}getSheetWeight(ingredientName){const weights={'ì‚¬ê°ì–´ë¬µ':25,// ì–´ë¬µ 1ì¥ = 25g\n'ì•Œë°°ì¶”ì':30,// ë°°ì¶”ì 1ì¥ = 30g\n'ê¹»ì':1// ê¹»ì 1ì¥ = 1g\n};return weights[ingredientName]||20;}getWholeWeight(ingredientName){const weights={'ì•Œë°°ê¸°ë°°ì¶”':1500// ë°°ì¶” 1í†µ = 1.5kg\n};return weights[ingredientName]||500;}getPackageWeight(ingredientName){const weights={'ìˆ™ì£¼':200,// ìˆ™ì£¼ 1ë´‰ = 200g\n'íŒ½ì´ë²„ì„¯':150// íŒ½ì´ë²„ì„¯ 1ë´‰ = 150g\n};return weights[ingredientName]||100;}getBunchWeight(ingredientName){const weights={'ëŒ€íŒŒ':100,// ëŒ€íŒŒ 1ë‹¨ = 100g\n'ì–¼ê°ˆì´':300// ì–¼ê°ˆì´ 1ë‹¨ = 300g\n};return weights[ingredientName]||100;}// ì˜ì–‘ì†Œ ê³„ì‚°\ncalculateNutrition(ingredients){let totalNutrition={calories:0,protein:0,carb:0,fat:0};ingredients.forEach(ingredient=>{const baseNutrition=this.nutritionDB[ingredient.name];if(baseNutrition){const gramsUsed=this.convertToGrams(ingredient.quantity,ingredient.unit,ingredient.name);const ratio=gramsUsed/100;// 100g ê¸°ì¤€ìœ¼ë¡œ ê³„ì‚°\ntotalNutrition.calories+=baseNutrition.calories*ratio;totalNutrition.protein+=baseNutrition.protein*ratio;totalNutrition.carb+=baseNutrition.carb*ratio;totalNutrition.fat+=baseNutrition.fat*ratio;}});return{calories:Math.round(totalNutrition.calories),protein:Math.round(totalNutrition.protein*10)/10,carb:Math.round(totalNutrition.carb*10)/10,fat:Math.round(totalNutrition.fat*10)/10};}}// ğŸ¤– AI ê¸°ë°˜ ëª©í‘œ ë¶„ë¥˜ê¸°\nclass GoalClassifier{classifyRecipeGoals(ingredients,cookingMethod,mealPurpose,description,nutrition){const goals=[];// ğŸ”¥ ë‹¤ì´ì–´íŠ¸ ë¶„ë¥˜ ë¡œì§ (ìŠ¤ë§ˆíŠ¸ ë¶„ë¥˜)\nconst isLowCalorie=nutrition.calories<400;// ì±„ì†Œ ê¸°ë°˜ ì¬ë£Œ í™•ì¸ (ë” í¬ê´„ì )\nconst vegetableKeywords=['ë°°ì¶”','ìˆ™ì£¼','ê¹»ì','ë¸Œë¡œì½œë¦¬','ì–‘ë°°ì¶”','ìƒëŸ¬ë“œ','ì•¼ì±„','ì±„ì†Œ','ë¬´','ë‹¹ê·¼','ì‹œê¸ˆì¹˜','ë²„ì„¯','ì½©ë‚˜ë¬¼'];const isVegetableBased=ingredients.some(ing=>{const ingName=ing.name.toLowerCase();return vegetableKeywords.some(veg=>ingName.includes(veg));});// ë‹¤ì´ì–´íŠ¸ ì¹œí™”ì  ì¡°ë¦¬ë²•\nconst lightCookingMethods=['ì°Œê¸°','ì‚¶ê¸°','ë¬´ì¹¨'];const isLightCooking=lightCookingMethods.includes(cookingMethod);// êµ­ë¬¼ ìš”ë¦¬ (í¬ë§Œê° ë†’ê³  ì¹¼ë¡œë¦¬ ë‚®ìŒ)\nconst isSoupBased=cookingMethod==='êµ­/íƒ•'||description.includes('êµ­')||description.includes('íƒ•');// ë‹¤ì´ì–´íŠ¸ í‚¤ì›Œë“œ (ê¸°ì¡´ + ì¶”ê°€)\nconst dietKeywords=['ë‹¤ì´ì–´íŠ¸','ì €ì¹¼ë¡œë¦¬','ì‚´ë¹¼ê¸°','í—¬ì‹œ','ê±´ê°•'];const hasDietKeyword=dietKeywords.some(keyword=>description.toLowerCase().includes(keyword));// ë‹¤ì´ì–´íŠ¸ ë ˆì‹œí”¼ íŒì • (ë” ê´€ëŒ€í•˜ê²Œ)\nif(isLowCalorie||isVegetableBased||isLightCooking||isSoupBased||hasDietKeyword){goals.push('weight_loss');}// ğŸ’ª ê·¼ì„±ì¥ ë¶„ë¥˜ ë¡œì§ (ìŠ¤ë§ˆíŠ¸ ë¶„ë¥˜)\nconst isHighProtein=nutrition.protein>20;// ë‹¨ë°±ì§ˆ ì¬ë£Œ í™•ì¸ (ë” í¬ê´„ì )\nconst proteinKeywords=['ê³„ë€','ë‹¬ê±€','ë‹­','ì†Œê³ ê¸°','ë¼ì§€','ì—°ì–´','ì°¸ì¹˜','ë‘ë¶€','ìƒˆìš°','ì¡°ê°œ','ìƒì„ ','ìœ¡'];const hasProteinSource=ingredients.some(ing=>{const ingName=ing.name.toLowerCase();return proteinKeywords.some(protein=>ingName.includes(protein));});// ê³ ë‹¨ë°± ì¡°ë¦¬ë²•\nconst proteinCookingMethods=['êµ½ê¸°','ë³¶ê¸°','íŠ€ê¸°ê¸°'];const isProteinCooking=proteinCookingMethods.includes(cookingMethod);// ê·¼ì„±ì¥ í‚¤ì›Œë“œ\nconst muscleKeywords=['ë‹¨ë°±ì§ˆ','ê·¼ìœ¡','ê³ ë‹¨ë°±','í”„ë¡œí‹´'];const hasMuscleKeyword=muscleKeywords.some(keyword=>description.toLowerCase().includes(keyword));// ê·¼ì„±ì¥ ë ˆì‹œí”¼ íŒì •\nif(isHighProtein||hasProteinSource||isProteinCooking||hasMuscleKeyword){goals.push('muscle_gain');}// ğŸ¥˜ ê· í˜• ì¡íŒ ì‹ë‹¨ (maintenance) - ëª¨ë“  ë ˆì‹œí”¼ê°€ ìµœì†Œ í•˜ë‚˜ì˜ ëª©í‘œë¥¼ ê°€ì§€ë„ë¡\nif(goals.length===0||cookingMethod==='êµ­/íƒ•'||mealPurpose==='ì¼ìƒ'){goals.push('maintenance');}return goals;}}// ğŸ›’ ì¿ íŒ¡ ìƒí’ˆ ë§¤ì¹­ê¸°\nclass CoupangProductMatcher{findMatchingProduct(ingredientName){// ì¬ë£Œëª… â†’ ì¿ íŒ¡ ìƒí’ˆ ë§¤í•‘ í…Œì´ë¸”\nconst productMapping={'ê³„ë€':'prod-whole-egg-1','ë‹¹ê·¼':'prod-carrot-1','ì•Œë°°ê¸°ë°°ì¶”':'prod-cabbage-1','ì•„ë³´ì¹´ë„':'prod-avocado-1','í›ˆì œì—°ì–´':'prod-salmon-1'// ë” ë§ì€ ë§¤í•‘ ì¶”ê°€ ê°€ëŠ¥\n};const productId=productMapping[ingredientName];if(productId){return mockProducts.find(p=>p.id===productId)||null;}// ë¶€ë¶„ ë§¤ì¹˜ ë¡œì§\nconst partialMatch=mockProducts.find(product=>product.name.includes(ingredientName)||ingredientName.includes(product.name.split(' ')[0]));return partialMatch||null;}matchIngredients(ingredients){return ingredients.map(ingredient=>{const product=this.findMatchingProduct(ingredient.name);return{product:product||this.createFallbackProduct(ingredient.name),quantity:ingredient.quantity,unit:ingredient.unit,isOptional:false};});}createFallbackProduct(ingredientName){// ë§¤ì¹­ë˜ì§€ ì•ŠëŠ” ì¬ë£Œì— ëŒ€í•œ ê¸°ë³¸ ìƒí’ˆ ìƒì„±\nreturn{id:\"fallback-\".concat(ingredientName),name:\"\".concat(ingredientName,\" (\\uCFE0\\uD321)\"),price:3000,// ê¸°ë³¸ ê°€ê²©\nimageUrl:'https://via.placeholder.com/200x200?text='+encodeURIComponent(ingredientName),coupangUrl:'https://www.coupang.com/search?q='+encodeURIComponent(ingredientName),category:'ì‹ì¬ë£Œ',nutrition:{calories:50,carb:10,protein:2,fat:1,sodium:100,sugar:0},description:\"\".concat(ingredientName,\" \\uC0C1\\uD488\"),brand:'ì¼ë°˜',weight:'1ê°œ',rating:4.0,reviewCount:100,isRocketDelivery:false};}}// ğŸ¯ ë©”ì¸ ë³€í™˜ê¸° í´ë˜ìŠ¤\nexport class MankaeRecipeProcessor{constructor(){this.nutritionCalculator=new NutritionCalculator();this.goalClassifier=new GoalClassifier();this.productMatcher=new CoupangProductMatcher();}// ì¬ë£Œ ë¬¸ìì—´ íŒŒì‹± (ì‹¤ì œ CSV í˜•ì‹ì— ë§ì¶˜ ì™„ì „ ê°œì„  ë²„ì „)\nparseIngredients(ingredientText){const ingredients=[];console.log(\"\\uD83E\\uDDEA \\uC7AC\\uB8CC \\uD30C\\uC2F1 \\uC2DC\\uC791: \\\"\".concat(ingredientText.substring(0,100),\"...\\\"\"));if(!ingredientText||ingredientText.trim()===''){console.log(\"\\u26A0\\uFE0F \\uC7AC\\uB8CC \\uD14D\\uC2A4\\uD2B8\\uAC00 \\uBE44\\uC5B4\\uC788\\uC74C\");return ingredients;}// ì‹¤ì œ CSV í˜•ì‹ ì²˜ë¦¬: \"[ì¬ë£Œ] ë–¡êµ­ë–¡400g| ë‹¤ì§„ì†Œê³ ê¸°100g| ...\"\nconst sections=ingredientText.split(/\\[ì¬ë£Œ\\]|\\[ì–‘ë…\\]|\\[ì†ŒìŠ¤\\]|\\[ìœ¡ìˆ˜\\]|\\[ê°„ì¥ì–‘ë…\\]|\\[ì–‘ë…ì¥\\]|\\[ì–¼ê°ˆì´ë°ì¹ ë•Œ\\]|\\[ë§Œë‘ì „ê³¨ ìœ¡ìˆ˜\\]|\\[ì „ê³¨ìš”ë¦¬ ì–‘ë…ì¥\\]/);sections.forEach((section,sectionIndex)=>{if(!section.trim())return;console.log(\"\\uD83D\\uDD0D \\uC139\\uC158 \".concat(sectionIndex,\": \\\"\").concat(section.substring(0,50),\"...\\\"\"));const items=section.split('|').filter(item=>item.trim());console.log(\"\\uD83D\\uDCDD \\uC544\\uC774\\uD15C \\uAC1C\\uC218: \".concat(items.length));items.forEach((item,itemIndex)=>{const trimmed=item.trim();if(!trimmed||trimmed==='ì•½ê°„'||trimmed.length<2)return;console.log(\"\\uD83D\\uDD0D \\uC544\\uC774\\uD15C \".concat(itemIndex,\": \\\"\").concat(trimmed,\"\\\"\"));let match=null;// ğŸ”¥ ì‹¤ì œ CSV ë°ì´í„° íŒ¨í„´ì— ì™„ë²½í•˜ê²Œ ë§ì¶˜ ì •ê·œì‹ë“¤\n// 1. \"ë¼ì§€ê³ ê¸°ìˆ˜ìœ¡ìš©ì‚¼ê²¹ì‚´500g\" í˜•íƒœ (ê³µë°± ì—†ëŠ” ê¸´ ì´ë¦„ + ìˆ«ì + í•œê¸€ë‹¨ìœ„)\nmatch=trimmed.match(/^(.+[ê°€-í£])(\\d+(?:\\/\\d+)?(?:\\.\\d+)?)([ê°€-í£]+)$/);// 2. \"ë©¸ì¹˜ìœ¡ìˆ˜800ml\" í˜•íƒœ (ê³µë°± ì—†ëŠ” ì´ë¦„ + ìˆ«ì + ì˜ì–´ë‹¨ìœ„)\nif(!match){match=trimmed.match(/^(.+[ê°€-í£])(\\d+(?:\\/\\d+)?(?:\\.\\d+)?)([a-zA-Z]+)$/);}// 3. \"ë¼ì§€ê³ ê¸° ìˆ˜ìœ¡ìš©ì‚¼ê²¹ì‚´500g\" í˜•íƒœ (ê³µë°± í¬í•¨ ê¸´ ì´ë¦„ + ìˆ«ì + í•œê¸€ë‹¨ìœ„)\nif(!match){match=trimmed.match(/^(.+?)\\s+(\\d+(?:\\/\\d+)?(?:\\.\\d+)?)([ê°€-í£]+)$/);}// 4. \"ëœì¥1.5í°ìˆ \" í˜•íƒœ (ì†Œìˆ˜ì  + í•œê¸€ë‹¨ìœ„)\nif(!match){match=trimmed.match(/^(.+?)(\\d+(?:\\.\\d+)?)([ê°€-í£]+)$/);}// 5. \"ëŒ€íŒŒ1/3ëŒ€\" í˜•íƒœ (ë¶„ìˆ˜ + í•œê¸€ë‹¨ìœ„)\nif(!match){match=trimmed.match(/^(.+?)(\\d+\\/\\d+)([ê°€-í£]+)$/);}// 6. \"ì°¸ê¸°ë¦„1T\" í˜•íƒœ (ì˜ì–´ ë‹¨ìœ„)\nif(!match){match=trimmed.match(/^(.+?)(\\d+(?:\\/\\d+)?(?:\\.\\d+)?)([TtLl])$/);}// 7. \"ì†Œê¸ˆ\" í˜•íƒœ (ì´ë¦„ë§Œ, ìˆ˜ëŸ‰ 1ë¡œ ì„¤ì •)\nif(!match&&trimmed.length>1&&!trimmed.includes('ì•½ê°„')){match=[trimmed,trimmed,'1','ê°œ'];}if(match){const[,name,quantityStr,unit]=match;let quantity=parseFloat(quantityStr);// ë¶„ìˆ˜ ì²˜ë¦¬ (1/3 â†’ 0.333)\nif(quantityStr.includes('/')){const[numerator,denominator]=quantityStr.split('/').map(Number);quantity=numerator/denominator;}const ingredient={name:name.trim(),quantity,unit:unit.trim()};ingredients.push(ingredient);console.log(\"\\u2705 \\uC7AC\\uB8CC \\uCD94\\uAC00: \".concat(ingredient.name,\" \").concat(ingredient.quantity).concat(ingredient.unit));}else{console.log(\"\\u274C \\uB9E4\\uCE6D \\uC2E4\\uD328: \\\"\".concat(trimmed,\"\\\"\"));// ì‹¤íŒ¨í•œ ê²½ìš°ë¼ë„ ìœ íš¨í•œ ì¬ë£Œëª… ì¶”ì¶œ ì‹œë„\n// ìˆ«ìì™€ ë‹¨ìœ„ë¥¼ ì œì™¸í•œ ë‚˜ë¨¸ì§€ë¥¼ ì¬ë£Œëª…ìœ¼ë¡œ ê°„ì£¼\nconst nameOnlyMatch=trimmed.match(/^(.+?)(?:\\d|\\s*$)/);if(nameOnlyMatch&&nameOnlyMatch[1].trim().length>1&&!trimmed.includes('ì•½ê°„')&&!trimmed.includes('ì ë‹¹íˆ')){const fallbackIngredient={name:nameOnlyMatch[1].trim(),quantity:1,unit:'ê°œ'};ingredients.push(fallbackIngredient);console.log(\"\\uD83D\\uDD04 \\uD3F4\\uBC31 \\uC7AC\\uB8CC \\uCD94\\uAC00: \".concat(fallbackIngredient.name,\" \").concat(fallbackIngredient.quantity).concat(fallbackIngredient.unit));}}});});console.log(\"\\uD83D\\uDCCB \\uCD5C\\uC885 \\uC7AC\\uB8CC \\uAC1C\\uC218: \".concat(ingredients.length));return ingredients;}// ì¡°ë¦¬ì‹œê°„ ë³€í™˜\nparseTime(timeStr){// null/undefined ì²´í¬ ì¶”ê°€\nif(!timeStr||typeof timeStr!=='string'){console.log('âš ï¸ ì¡°ë¦¬ì‹œê°„ ì •ë³´ê°€ ì—†ìŒ, ê¸°ë³¸ê°’ 30ë¶„ ì‚¬ìš©');return 30;// ê¸°ë³¸ê°’ 30ë¶„\n}if(timeStr.includes('ì‹œê°„')){const hours=parseInt(timeStr)||1;return hours*60;}const minutes=parseInt(timeStr)||15;return minutes;}// ğŸ§ª íŒŒì‹± í•¨ìˆ˜ í…ŒìŠ¤íŠ¸ (ì„ì‹œ ë””ë²„ê¹…ìš©)\ntestParseIngredients(ingredientText){console.log('ğŸ§ª íŒŒì‹± í…ŒìŠ¤íŠ¸ ì‹œì‘:',ingredientText);return this.parseIngredients(ingredientText);}// ğŸ”¥ ê¸´ê¸‰ ë””ë²„ê¹…: ì‹¤ì œ CSV ë°ì´í„°ë¡œ í…ŒìŠ¤íŠ¸\ndebugRealDataParsing(){const testData=[\"[ì¬ë£Œ] ë–¡êµ­ë–¡400g| ë‹¤ì§„ì†Œê³ ê¸°100g| ë©¸ì¹˜ìœ¡ìˆ˜800ml| ëŒ€íŒŒ1/3ëŒ€| ê³„ë€2ê°œ| ì°¸ê¸°ë¦„1T| êµ­ê°„ì¥1T\",\"[ì¬ë£Œ] ë¼ì§€ê³ ê¸° ìˆ˜ìœ¡ìš©ì‚¼ê²¹ì‚´500g| ëœì¥1.5í°ìˆ | ìˆ 4í°ìˆ | í™ì–´ë¬´ì¹¨| ë¬´ìƒì±„| ì½©ë‚˜ë¬¼ë¬´ì¹¨\",\"[ì¬ë£Œ] ë°°ì¶”3ì¥| ì–‘íŒŒ1/2ê°œ| ëŒ€íŒŒ1ëŒ€| ì²­ì–‘ê³ ì¶”2ê°œ\"];testData.forEach((data,index)=>{console.log(\"\\n\\uD83E\\uDDEA \\uD14C\\uC2A4\\uD2B8 \".concat(index+1,\": \").concat(data));const result=this.parseIngredients(data);console.log(\"\\uD83D\\uDCCB \\uACB0\\uACFC: \".concat(result.length,\"\\uAC1C \\uC7AC\\uB8CC \\uD30C\\uC2F1\\uB428\"));result.forEach((ing,i)=>{console.log(\"   \".concat(i+1,\". \").concat(ing.name,\": \").concat(ing.quantity).concat(ing.unit));});});}// ì¸ë¶„ìˆ˜ ë³€í™˜\nparseServings(servingStr){if(!servingStr||typeof servingStr!=='string'){return 2;// ê¸°ë³¸ê°’ 2ì¸ë¶„\n}const match=servingStr.match(/(\\d+)/);return match?parseInt(match[1]):2;}// ë‚œì´ë„ ë³€í™˜\nparseDifficulty(difficultyStr){// null/undefined ì²´í¬ ì¶”ê°€\nif(!difficultyStr||typeof difficultyStr!=='string'){console.log('âš ï¸ ë‚œì´ë„ ì •ë³´ê°€ ì—†ìŒ, ê¸°ë³¸ê°’ medium ì‚¬ìš©');return'medium';// ê¸°ë³¸ê°’ medium\n}if(difficultyStr.includes('ì´ˆê¸‰')||difficultyStr.includes('ì•„ë¬´ë‚˜'))return'easy';if(difficultyStr.includes('ì¤‘ê¸‰'))return'medium';return'hard';}// ì‹ì‚¬ íƒ€ì… ì¶”ë¡ \ninferMealType(title,category,mealPurpose){// null/undefined ì²´í¬\nconst safeTitle=title||'';const safeCategory=category||'';const safeMealPurpose=mealPurpose||'';const titleLower=safeTitle.toLowerCase();if(titleLower.includes('ì•„ì¹¨')||safeMealPurpose==='ì•„ì¹¨ëŒ€ìš©')return'breakfast';if(titleLower.includes('ì ì‹¬'))return'lunch';if(titleLower.includes('ì €ë…')||safeMealPurpose==='ìˆ ì•ˆì£¼')return'dinner';if(safeCategory==='ì–‘ë…/ì†ŒìŠ¤/ì¼'||safeMealPurpose==='ê°„ì‹')return'snack';// ê¸°ë³¸ê°’: ìš”ë¦¬ ì¢…ë¥˜ì— ë”°ë¼ ê²°ì •\nif(safeCategory==='êµ­/íƒ•')return'dinner';if(safeCategory==='ë°‘ë°˜ì°¬')return'lunch';return'lunch';// ê¸°ë³¸ê°’\n}// í’ˆì§ˆ ì ìˆ˜ ê³„ì‚°\ncalculateQualityScore(views,scraps){// ì¡°íšŒìˆ˜ ê¸°ë°˜ ì ìˆ˜ (ìµœëŒ€ 5.0)\nconst viewScore=Math.min(views/200*5,5.0);// ìŠ¤í¬ë©ìœ¨ ê¸°ë°˜ ì ìˆ˜ (ìµœëŒ€ 5.0)\nconst engagementRate=views>0?scraps/views*100:0;const engagementScore=Math.min(engagementRate*50,5.0);// ì „ì²´ ì ìˆ˜ (ì¡°íšŒìˆ˜ 70% + ìŠ¤í¬ë©ìœ¨ 30%)\nconst overall=viewScore*0.7+engagementScore*0.3;return{overall:Math.round(overall*10)/10,taste:Math.min(overall+0.2,5.0),difficulty:Math.min(overall+0.1,5.0),nutrition:Math.min(overall-0.1,5.0),reviewCount:views};}// ğŸ¯ ë©”ì¸ ë³€í™˜ í•¨ìˆ˜ (ì„±ëŠ¥ ìµœì í™”)\nprocessRecipe(rawData){var _rawData$CKG_MTRL_CN;// ğŸ”¥ ê¸´ê¸‰ ë””ë²„ê¹…: ëª¨ë“  ë ˆì‹œí”¼ ì²˜ë¦¬ ê³¼ì • ì¶”ì \nconsole.log(\"\\uD83D\\uDD04 \\uB808\\uC2DC\\uD53C \\uCC98\\uB9AC \\uC2DC\\uC791: \".concat(rawData.RCP_TTL));console.log(\"   - \\uC6D0\\uBCF8 \\uC7AC\\uB8CC \\uB370\\uC774\\uD130: \\\"\".concat((_rawData$CKG_MTRL_CN=rawData.CKG_MTRL_CN)===null||_rawData$CKG_MTRL_CN===void 0?void 0:_rawData$CKG_MTRL_CN.substring(0,100),\"...\\\"\"));// 1ë‹¨ê³„: ì¬ë£Œ íŒŒì‹±\nconst ingredients=this.parseIngredients(rawData.CKG_MTRL_CN||'');console.log(\"   - \\uD30C\\uC2F1\\uB41C \\uC7AC\\uB8CC \\uC218: \".concat(ingredients.length,\"\\uAC1C\"));if(ingredients.length>0){console.log(\"   - \\uC0D8\\uD50C \\uC7AC\\uB8CC: \".concat(ingredients.slice(0,3).map(i=>\"\".concat(i.name,\"(\").concat(i.quantity).concat(i.unit,\")\")).join(', ')));}// 2ë‹¨ê³„: ì˜ì–‘ì†Œ ê³„ì‚° (ìºì‹œ í™œìš©)\nconst nutrition=this.nutritionCalculator.calculateNutrition(ingredients);console.log(\"   - \\uACC4\\uC0B0\\uB41C \\uC601\\uC591\\uC18C: \".concat(nutrition.calories,\"kcal, \").concat(nutrition.protein,\"g \\uB2E8\\uBC31\\uC9C8\"));// 3ë‹¨ê³„: ëª©í‘œ ë¶„ë¥˜ (ìµœì í™”ëœ ì•Œê³ ë¦¬ì¦˜)\nconst goalFit=this.goalClassifier.classifyRecipeGoals(ingredients,rawData.CKG_MTH_ACTO_NM||'',rawData.CKG_STA_ACTO_NM||'',rawData.CKG_IPDC||'',nutrition);console.log(\"   - \\uBD84\\uB958\\uB41C \\uBAA9\\uD45C: [\".concat(goalFit.join(', '),\"]\"));console.log('---');// 4ë‹¨ê³„: í’ˆì§ˆ í‰ê°€\nconst userRatings=this.calculateQualityScore(rawData.INQ_CNT||0,rawData.SRAP_CNT||0);// 5ë‹¨ê³„: Recipe ê°ì²´ ìƒì„±\nconst recipe={id:\"mankae-\".concat(rawData.RCP_SNO),name:rawData.CKG_NM||'ì œëª© ì—†ìŒ',description:rawData.CKG_IPDC||'ì„¤ëª… ì—†ìŒ',image:rawData.RCP_IMG_URL||\"https://images.unsplash.com/photo-1546833999-b9f581a1996d?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3\",// ì‹¤ì œ ì´ë¯¸ì§€ ë˜ëŠ” ê¸°ë³¸ ì´ë¯¸ì§€\ncookingTime:this.parseTime(rawData.CKG_TIME_NM||''),difficulty:this.parseDifficulty(rawData.CKG_DODF_NM||''),instructions:this.generateInstructions(rawData.CKG_MTH_ACTO_NM||'',ingredients),tags:this.generateTags(rawData,nutrition),mealType:this.inferMealType(rawData.RCP_TTL||'',rawData.CKG_KND_ACTO_NM||'',rawData.CKG_STA_ACTO_NM||''),goalFit,// í™•ì¥ ì •ë³´ (ì„ íƒì )\nnutritionHighlights:{mainBenefits:this.generateNutritionBenefits(ingredients,nutrition),calorieContext:\"\".concat(nutrition.calories,\"kcal\\uB85C \\uADE0\\uD615\\uC7A1\\uD78C \\uD55C \\uB07C\"),dietaryInfo:this.generateDietaryInfo(ingredients,nutrition)},userRatings,sourceInfo:{chef:rawData.RGTR_NM||'ì•Œ ìˆ˜ ì—†ìŒ',source:'chef_recipe',verified:(rawData.INQ_CNT||0)>100,// ì¡°íšŒìˆ˜ 100 ì´ìƒì´ë©´ ê²€ì¦ëœ ê²ƒìœ¼ë¡œ ê°„ì£¼\nlastUpdated:(rawData.FIRST_REG_DT||'20240101').substring(0,8)// YYYYMMDD í˜•ì‹\n}};console.log(\"\\u2705 \\uBCC0\\uD658 \\uC644\\uB8CC: \".concat(recipe.name));return recipe;}// ì¡°ë¦¬ë²• ìƒì„±\ngenerateInstructions(cookingMethod,ingredients){const baseInstructions={'ë¶€ì¹¨':['íŒ¬ì— ê¸°ë¦„ì„ ë‘ë¥´ê³  ì¤‘ì•½ë¶ˆë¡œ ë‹¬ê¶ˆì£¼ì„¸ìš”','ì¬ë£Œë¥¼ ì˜¬ë¦¬ê³  ë…¸ë¦‡í•˜ê²Œ ë¶€ì³ì£¼ì„¸ìš”','ë’¤ì§‘ì–´ì„œ ë°˜ëŒ€ë©´ë„ ìµí˜€ì£¼ì„¸ìš”','ì™„ì„±ëœ ìš”ë¦¬ë¥¼ ì ‘ì‹œì— ë‹´ì•„ì£¼ì„¸ìš”'],'ë³¶ìŒ':['íŒ¬ì„ ë‹¬êµ¬ê³  ê¸°ë¦„ì„ ë‘ë¥´ì„¸ìš”','ì¬ë£Œë¥¼ ë„£ê³  ì„¼ ë¶ˆì—ì„œ ë¹ ë¥´ê²Œ ë³¶ì•„ì£¼ì„¸ìš”','ì–‘ë…ì„ ë„£ê³  ê³¨ê³ ë£¨ ì„ì–´ì£¼ì„¸ìš”','ë¶ˆì„ ë„ê³  ì ‘ì‹œì— ë‹´ì•„ ì™„ì„±í•˜ì„¸ìš”'],'ì°œ':['ì¬ë£Œë¥¼ ê¹¨ë—ì´ ì†ì§ˆí•˜ì—¬ ì¤€ë¹„í•˜ì„¸ìš”','ì°œê¸°ì— ë¬¼ì„ ë„£ê³  ë“ì—¬ì£¼ì„¸ìš”','ì¬ë£Œë¥¼ ì°œê¸°ì— ì˜¬ë¦¬ê³  ëšœê»‘ì„ ë®ì–´ì£¼ì„¸ìš”','ì¶©ë¶„íˆ ìµìœ¼ë©´ ì–‘ë…ê³¼ í•¨ê»˜ ì™„ì„±í•˜ì„¸ìš”'],'ë“ì´ê¸°':['ëƒ„ë¹„ì— ë¬¼ì„ ë„£ê³  ë“ì—¬ì£¼ì„¸ìš”','ì¬ë£Œë¥¼ ë„£ê³  ì¤‘ë¶ˆì—ì„œ ë“ì—¬ì£¼ì„¸ìš”','ê°„ì„ ë§ì¶”ê³  ë” ë“ì—¬ì£¼ì„¸ìš”','ê·¸ë¦‡ì— ë‹´ì•„ ëœ¨ê²ê²Œ ì™„ì„±í•˜ì„¸ìš”']};return baseInstructions[cookingMethod]||['ì¬ë£Œë¥¼ ì¤€ë¹„í•˜ê³  ì†ì§ˆí•˜ì„¸ìš”','ì ì ˆí•œ ë°©ë²•ìœ¼ë¡œ ì¡°ë¦¬í•˜ì„¸ìš”','ê°„ì„ ë§ì¶”ê³  ì™„ì„±í•˜ì„¸ìš”'];}// íƒœê·¸ ìƒì„±\ngenerateTags(rawData,nutrition){const tags=[];// ì¡°ë¦¬ë²• ê¸°ë°˜ - null ì²´í¬\nif(rawData.CKG_MTH_ACTO_NM){tags.push(rawData.CKG_MTH_ACTO_NM);}// ì˜ì–‘ ê¸°ë°˜\nif(nutrition.protein>15)tags.push('ê³ ë‹¨ë°±');if(nutrition.calories<200)tags.push('ì €ì¹¼ë¡œë¦¬');// ìƒí™© ê¸°ë°˜ - null ì²´í¬\nif(rawData.CKG_STA_ACTO_NM==='ì´ˆìŠ¤í”¼ë“œ')tags.push('ê°„í¸');if(rawData.CKG_DODF_NM==='ì•„ë¬´ë‚˜')tags.push('ì´ˆë³´ì');// ì‹œê°„ ê¸°ë°˜ - null ì²´í¬\nif(rawData.CKG_TIME_NM&&rawData.CKG_TIME_NM.includes('10ë¶„'))tags.push('10ë¶„ì™„ì„±');if(rawData.CKG_TIME_NM&&rawData.CKG_TIME_NM.includes('15ë¶„'))tags.push('15ë¶„ì™„ì„±');return tags;}// ì˜ì–‘ í˜œíƒ ìƒì„±\ngenerateNutritionBenefits(ingredients,nutrition){const benefits=[];if(nutrition.protein>15){benefits.push(\"\\uACE0\\uB2E8\\uBC31\\uC9C8(\".concat(nutrition.protein,\"g)\\uB85C \\uADFC\\uC721 \\uAC74\\uAC15\\uC5D0 \\uB3C4\\uC6C0\"));}ingredients.forEach(ing=>{if(ing.name==='ê³„ë€')benefits.push('ì™„ì „ë‹¨ë°±ì§ˆê³¼ ë¹„íƒ€ë¯¼ ê³µê¸‰');if(ing.name==='ë°°ì¶”')benefits.push('ì‹ì´ì„¬ìœ ì™€ ë¹„íƒ€ë¯¼C í’ë¶€');if(ing.name==='ì•„ë³´ì¹´ë„')benefits.push('ê±´ê°•í•œ ë¶ˆí¬í™”ì§€ë°©ì‚° í•¨ìœ ');});return benefits;}// ì‹ë‹¨ ì •ë³´ ìƒì„±\ngenerateDietaryInfo(ingredients,nutrition){const info=[];if(nutrition.protein>15)info.push('ê³ ë‹¨ë°±');if(nutrition.calories<200)info.push('ì €ì¹¼ë¡œë¦¬');const hasAnimalProducts=ingredients.some(ing=>['ê³„ë€','ìš°ì‚¼ê²¹','í›ˆì œì—°ì–´'].includes(ing.name));if(!hasAnimalProducts)info.push('ë¹„ê±´');return info;}}","map":{"version":3,"names":["mockProducts","NutritionCalculator","constructor","nutritionDB","calories","protein","carb","fat","per100g","convertToGrams","quantity","unit","ingredientName","conversions","getItemWeight","getSheetWeight","getWholeWeight","getPackageWeight","getBunchWeight","weights","calculateNutrition","ingredients","totalNutrition","forEach","ingredient","baseNutrition","name","gramsUsed","ratio","Math","round","GoalClassifier","classifyRecipeGoals","cookingMethod","mealPurpose","description","nutrition","goals","isLowCalorie","vegetableKeywords","isVegetableBased","some","ing","ingName","toLowerCase","veg","includes","lightCookingMethods","isLightCooking","isSoupBased","dietKeywords","hasDietKeyword","keyword","push","isHighProtein","proteinKeywords","hasProteinSource","proteinCookingMethods","isProteinCooking","muscleKeywords","hasMuscleKeyword","length","CoupangProductMatcher","findMatchingProduct","productMapping","productId","find","p","id","partialMatch","product","split","matchIngredients","map","createFallbackProduct","isOptional","concat","price","imageUrl","encodeURIComponent","coupangUrl","category","sodium","sugar","brand","weight","rating","reviewCount","isRocketDelivery","MankaeRecipeProcessor","nutritionCalculator","goalClassifier","productMatcher","parseIngredients","ingredientText","console","log","substring","trim","sections","section","sectionIndex","items","filter","item","itemIndex","trimmed","match","quantityStr","parseFloat","numerator","denominator","Number","nameOnlyMatch","fallbackIngredient","parseTime","timeStr","hours","parseInt","minutes","testParseIngredients","debugRealDataParsing","testData","data","index","result","i","parseServings","servingStr","parseDifficulty","difficultyStr","inferMealType","title","safeTitle","safeCategory","safeMealPurpose","titleLower","calculateQualityScore","views","scraps","viewScore","min","engagementRate","engagementScore","overall","taste","difficulty","processRecipe","rawData","_rawData$CKG_MTRL_CN","RCP_TTL","CKG_MTRL_CN","slice","join","goalFit","CKG_MTH_ACTO_NM","CKG_STA_ACTO_NM","CKG_IPDC","userRatings","INQ_CNT","SRAP_CNT","recipe","RCP_SNO","CKG_NM","image","RCP_IMG_URL","cookingTime","CKG_TIME_NM","CKG_DODF_NM","instructions","generateInstructions","tags","generateTags","mealType","CKG_KND_ACTO_NM","nutritionHighlights","mainBenefits","generateNutritionBenefits","calorieContext","dietaryInfo","generateDietaryInfo","sourceInfo","chef","RGTR_NM","source","verified","lastUpdated","FIRST_REG_DT","baseInstructions","benefits","info","hasAnimalProducts"],"sources":["/Users/kim_seung_bin/Desktop/ksb/public/dev/kkssbbb-github-repo/SmartMealPlanner_front/src/utils/recipeDataProcessor.ts"],"sourcesContent":["import { Recipe, CoupangProduct, RecipeIngredient } from '../types';\nimport { mockProducts } from '../data/mockProducts';\n\n// ğŸ³ ë§Œê°œì˜ ë ˆì‹œí”¼ ì›ë³¸ ë°ì´í„° êµ¬ì¡°\nexport interface MankaeLRecipeRaw {\n  RCP_SNO: string;           // ë ˆì‹œí”¼ ë²ˆí˜¸\n  RCP_TTL: string;           // ë ˆì‹œí”¼ ì œëª©\n  CKG_NM: string;            // ìš”ë¦¬ëª…\n  RGTR_ID: string;           // ë“±ë¡ì ID\n  RGTR_NM: string;           // ë“±ë¡ìëª… (ìš”ë¦¬ì‚¬)\n  INQ_CNT: number;           // ì¡°íšŒìˆ˜\n  RCMM_CNT: number;          // ì¶”ì²œìˆ˜\n  SRAP_CNT: number;          // ìŠ¤í¬ë©ìˆ˜\n  CKG_MTH_ACTO_NM: string;   // ì¡°ë¦¬ë²• (ë¶€ì¹¨, ì°œ, ë³¶ìŒ, ë“ì´ê¸°)\n  CKG_STA_ACTO_NM: string;   // ìƒí™© (ì˜ì–‘ì‹, ì¼ìƒ, ì´ˆìŠ¤í”¼ë“œ, ìˆ ì•ˆì£¼)\n  CKG_MTRL_ACTO_NM: string;  // ì£¼ì¬ë£Œ (ë‹¬ê±€/ìœ ì œí’ˆ, ì±„ì†Œë¥˜, ì†Œê³ ê¸°)\n  CKG_KND_ACTO_NM: string;   // ìš”ë¦¬ì¢…ë¥˜ (ë°‘ë°˜ì°¬, ë©”ì¸ë°˜ì°¬, êµ­/íƒ•)\n  CKG_IPDC: string;          // ìš”ë¦¬ì†Œê°œ\n  CKG_MTRL_CN: string;       // ì¬ë£Œ ì •ë³´\n  CKG_INBUN_NM: string;      // ì¸ë¶„\n  CKG_DODF_NM: string;       // ë‚œì´ë„\n  CKG_TIME_NM: string;       // ì¡°ë¦¬ì‹œê°„\n  FIRST_REG_DT: string;      // ë“±ë¡ì¼\n  RCP_IMG_URL?: string;      // ë ˆì‹œí”¼ ì´ë¯¸ì§€ URL\n}\n\n// ğŸ§® AI ê¸°ë°˜ ì˜ì–‘ì†Œ ê³„ì‚°ê¸°\nclass NutritionCalculator {\n  // ê¸°ë³¸ ì˜ì–‘ ë°ì´í„°ë² ì´ìŠ¤ (ë†ì§„ì²­ ê¸°ì¤€)\n  private nutritionDB: Record<string, { calories: number; protein: number; carb: number; fat: number; per100g: boolean }> = {\n    // ğŸ¥š ë‹¨ë°±ì§ˆë¥˜\n    'ê³„ë€': { calories: 155, protein: 12.6, carb: 1.1, fat: 11.1, per100g: true },\n    'ë¹„ì—”ë‚˜': { calories: 315, protein: 12.0, carb: 2.0, fat: 28.5, per100g: true },\n    'í›ˆì œì—°ì–´': { calories: 117, protein: 25.4, carb: 0, fat: 4.3, per100g: true },\n    'ìš°ì‚¼ê²¹': { calories: 331, protein: 15.0, carb: 0, fat: 30.0, per100g: true },\n    \n    // ğŸ¥¬ ì±„ì†Œë¥˜\n    'ì•Œë°°ê¸°ë°°ì¶”': { calories: 14, protein: 1.3, carb: 2.8, fat: 0.1, per100g: true },\n    'ë‹¹ê·¼': { calories: 37, protein: 0.8, carb: 8.8, fat: 0.2, per100g: true },\n    'ë§ˆëŠ˜': { calories: 130, protein: 6.2, carb: 28.4, fat: 0.3, per100g: true },\n    'ëŒ€íŒŒ': { calories: 27, protein: 1.4, carb: 6.2, fat: 0.1, per100g: true },\n    'ì–‘íŒŒ': { calories: 37, protein: 1.0, carb: 8.9, fat: 0.1, per100g: true },\n    'ì•„ë³´ì¹´ë„': { calories: 190, protein: 2.0, carb: 8.6, fat: 19.5, per100g: true },\n    'ìˆ™ì£¼': { calories: 13, protein: 1.4, carb: 2.1, fat: 0.1, per100g: true },\n    'ê¹»ì': { calories: 41, protein: 3.9, carb: 7.1, fat: 0.7, per100g: true },\n    \n    // ğŸš ê³¡ë¬¼ë¥˜\n    'ë°¥': { calories: 130, protein: 2.5, carb: 29.0, fat: 0.3, per100g: true },\n    'ë–¡ë³¶ì´ë–¡': { calories: 124, protein: 2.6, carb: 28.0, fat: 0.4, per100g: true },\n    \n    // ğŸ§„ ì¡°ë¯¸ë£Œë¥˜\n    'ì†Œê¸ˆ': { calories: 0, protein: 0, carb: 0, fat: 0, per100g: true },\n    'ê°„ì¥': { calories: 53, protein: 8.9, carb: 4.6, fat: 0.1, per100g: true },\n    'ì„¤íƒ•': { calories: 387, protein: 0, carb: 99.8, fat: 0, per100g: true },\n    'ì°¸ê¸°ë¦„': { calories: 900, protein: 0, carb: 0, fat: 100, per100g: true },\n    'ë§ˆìš”ë„¤ì¦ˆ': { calories: 680, protein: 1.1, carb: 2.9, fat: 75.3, per100g: true },\n    'ë•…ì½©ë²„í„°': { calories: 588, protein: 22.5, carb: 22.3, fat: 49.9, per100g: true }\n  };\n  \n  // ë‹¨ìœ„ ë³€í™˜ê¸°\n  private convertToGrams(quantity: number, unit: string, ingredientName: string): number {\n    const conversions: Record<string, number> = {\n      'g': 1,\n      'kg': 1000,\n      'ml': 1, // ë¬¼ ê¸°ì¤€ 1ml = 1g\n      'ê°œ': this.getItemWeight(ingredientName),\n      'ì¥': this.getSheetWeight(ingredientName),\n      'í†µ': this.getWholeWeight(ingredientName),\n      'ê³µê¸°': 150, // ë°¥ 1ê³µê¸°\n      'ë´‰': this.getPackageWeight(ingredientName),\n      'ë‹¨': this.getBunchWeight(ingredientName),\n      'T': 15, // í°ìˆ \n      't': 5,  // ì‘ì€ìˆ \n      'í°ìˆ ': 15,\n      'ì‘ì€ìˆ ': 5,\n      'ìŠ¤í‘¼': 15\n    };\n    \n    return quantity * (conversions[unit] || 50); // ê¸°ë³¸ê°’ 50g\n  }\n  \n  private getItemWeight(ingredientName: string): number {\n    const weights: Record<string, number> = {\n      'ê³„ë€': 50,   // ê³„ë€ 1ê°œ = 50g\n      'ë§ˆëŠ˜': 5,    // ë§ˆëŠ˜ 1ê°œ = 5g  \n      'ì–‘íŒŒ': 200,  // ì–‘íŒŒ 1ê°œ = 200g\n      'ê°ì': 150,  // ê°ì 1ê°œ = 150g\n      'ë‹¹ê·¼': 100   // ë‹¹ê·¼ 1ê°œ = 100g\n    };\n    return weights[ingredientName] || 50;\n  }\n  \n  private getSheetWeight(ingredientName: string): number {\n    const weights: Record<string, number> = {\n      'ì‚¬ê°ì–´ë¬µ': 25,  // ì–´ë¬µ 1ì¥ = 25g\n      'ì•Œë°°ì¶”ì': 30,  // ë°°ì¶”ì 1ì¥ = 30g\n      'ê¹»ì': 1        // ê¹»ì 1ì¥ = 1g\n    };\n    return weights[ingredientName] || 20;\n  }\n  \n  private getWholeWeight(ingredientName: string): number {\n    const weights: Record<string, number> = {\n      'ì•Œë°°ê¸°ë°°ì¶”': 1500  // ë°°ì¶” 1í†µ = 1.5kg\n    };\n    return weights[ingredientName] || 500;\n  }\n  \n  private getPackageWeight(ingredientName: string): number {\n    const weights: Record<string, number> = {\n      'ìˆ™ì£¼': 200,      // ìˆ™ì£¼ 1ë´‰ = 200g\n      'íŒ½ì´ë²„ì„¯': 150   // íŒ½ì´ë²„ì„¯ 1ë´‰ = 150g\n    };\n    return weights[ingredientName] || 100;\n  }\n  \n  private getBunchWeight(ingredientName: string): number {\n    const weights: Record<string, number> = {\n      'ëŒ€íŒŒ': 100,      // ëŒ€íŒŒ 1ë‹¨ = 100g\n      'ì–¼ê°ˆì´': 300     // ì–¼ê°ˆì´ 1ë‹¨ = 300g\n    };\n    return weights[ingredientName] || 100;\n  }\n  \n  // ì˜ì–‘ì†Œ ê³„ì‚°\n  calculateNutrition(ingredients: Array<{name: string; quantity: number; unit: string}>): {\n    calories: number; protein: number; carb: number; fat: number;\n  } {\n    let totalNutrition = { calories: 0, protein: 0, carb: 0, fat: 0 };\n    \n    ingredients.forEach(ingredient => {\n      const baseNutrition = this.nutritionDB[ingredient.name];\n      if (baseNutrition) {\n        const gramsUsed = this.convertToGrams(ingredient.quantity, ingredient.unit, ingredient.name);\n        const ratio = gramsUsed / 100; // 100g ê¸°ì¤€ìœ¼ë¡œ ê³„ì‚°\n        \n        totalNutrition.calories += baseNutrition.calories * ratio;\n        totalNutrition.protein += baseNutrition.protein * ratio;\n        totalNutrition.carb += baseNutrition.carb * ratio;\n        totalNutrition.fat += baseNutrition.fat * ratio;\n      }\n    });\n    \n    return {\n      calories: Math.round(totalNutrition.calories),\n      protein: Math.round(totalNutrition.protein * 10) / 10,\n      carb: Math.round(totalNutrition.carb * 10) / 10,\n      fat: Math.round(totalNutrition.fat * 10) / 10\n    };\n  }\n}\n\n// ğŸ¤– AI ê¸°ë°˜ ëª©í‘œ ë¶„ë¥˜ê¸°\nclass GoalClassifier {\n  classifyRecipeGoals(\n    ingredients: Array<{name: string; quantity: number; unit: string}>,\n    cookingMethod: string,\n    mealPurpose: string,\n    description: string,\n    nutrition: {calories: number; protein: number; carb: number; fat: number}\n  ): ('weight_loss' | 'muscle_gain' | 'maintenance')[] {\n    const goals: ('weight_loss' | 'muscle_gain' | 'maintenance')[] = [];\n    \n    // ğŸ”¥ ë‹¤ì´ì–´íŠ¸ ë¶„ë¥˜ ë¡œì§ (ìŠ¤ë§ˆíŠ¸ ë¶„ë¥˜)\n    const isLowCalorie = nutrition.calories < 400;\n    \n    // ì±„ì†Œ ê¸°ë°˜ ì¬ë£Œ í™•ì¸ (ë” í¬ê´„ì )\n    const vegetableKeywords = ['ë°°ì¶”', 'ìˆ™ì£¼', 'ê¹»ì', 'ë¸Œë¡œì½œë¦¬', 'ì–‘ë°°ì¶”', 'ìƒëŸ¬ë“œ', 'ì•¼ì±„', 'ì±„ì†Œ', 'ë¬´', 'ë‹¹ê·¼', 'ì‹œê¸ˆì¹˜', 'ë²„ì„¯', 'ì½©ë‚˜ë¬¼'];\n    const isVegetableBased = ingredients.some(ing => {\n      const ingName = ing.name.toLowerCase();\n      return vegetableKeywords.some(veg => ingName.includes(veg));\n    });\n    \n    // ë‹¤ì´ì–´íŠ¸ ì¹œí™”ì  ì¡°ë¦¬ë²•\n    const lightCookingMethods = ['ì°Œê¸°', 'ì‚¶ê¸°', 'ë¬´ì¹¨'];\n    const isLightCooking = lightCookingMethods.includes(cookingMethod);\n    \n    // êµ­ë¬¼ ìš”ë¦¬ (í¬ë§Œê° ë†’ê³  ì¹¼ë¡œë¦¬ ë‚®ìŒ)\n    const isSoupBased = cookingMethod === 'êµ­/íƒ•' || description.includes('êµ­') || description.includes('íƒ•');\n    \n    // ë‹¤ì´ì–´íŠ¸ í‚¤ì›Œë“œ (ê¸°ì¡´ + ì¶”ê°€)\n    const dietKeywords = ['ë‹¤ì´ì–´íŠ¸', 'ì €ì¹¼ë¡œë¦¬', 'ì‚´ë¹¼ê¸°', 'í—¬ì‹œ', 'ê±´ê°•'];\n    const hasDietKeyword = dietKeywords.some(keyword => description.toLowerCase().includes(keyword));\n    \n    // ë‹¤ì´ì–´íŠ¸ ë ˆì‹œí”¼ íŒì • (ë” ê´€ëŒ€í•˜ê²Œ)\n    if (isLowCalorie || isVegetableBased || isLightCooking || isSoupBased || hasDietKeyword) {\n      goals.push('weight_loss');\n    }\n    \n    // ğŸ’ª ê·¼ì„±ì¥ ë¶„ë¥˜ ë¡œì§ (ìŠ¤ë§ˆíŠ¸ ë¶„ë¥˜)\n    const isHighProtein = nutrition.protein > 20;\n    \n    // ë‹¨ë°±ì§ˆ ì¬ë£Œ í™•ì¸ (ë” í¬ê´„ì )\n    const proteinKeywords = ['ê³„ë€', 'ë‹¬ê±€', 'ë‹­', 'ì†Œê³ ê¸°', 'ë¼ì§€', 'ì—°ì–´', 'ì°¸ì¹˜', 'ë‘ë¶€', 'ìƒˆìš°', 'ì¡°ê°œ', 'ìƒì„ ', 'ìœ¡'];\n    const hasProteinSource = ingredients.some(ing => {\n      const ingName = ing.name.toLowerCase();\n      return proteinKeywords.some(protein => ingName.includes(protein));\n    });\n    \n    // ê³ ë‹¨ë°± ì¡°ë¦¬ë²•\n    const proteinCookingMethods = ['êµ½ê¸°', 'ë³¶ê¸°', 'íŠ€ê¸°ê¸°'];\n    const isProteinCooking = proteinCookingMethods.includes(cookingMethod);\n    \n    // ê·¼ì„±ì¥ í‚¤ì›Œë“œ\n    const muscleKeywords = ['ë‹¨ë°±ì§ˆ', 'ê·¼ìœ¡', 'ê³ ë‹¨ë°±', 'í”„ë¡œí‹´'];\n    const hasMuscleKeyword = muscleKeywords.some(keyword => description.toLowerCase().includes(keyword));\n    \n    // ê·¼ì„±ì¥ ë ˆì‹œí”¼ íŒì •\n    if (isHighProtein || hasProteinSource || isProteinCooking || hasMuscleKeyword) {\n      goals.push('muscle_gain');\n    }\n    \n    // ğŸ¥˜ ê· í˜• ì¡íŒ ì‹ë‹¨ (maintenance) - ëª¨ë“  ë ˆì‹œí”¼ê°€ ìµœì†Œ í•˜ë‚˜ì˜ ëª©í‘œë¥¼ ê°€ì§€ë„ë¡\n    if (goals.length === 0 || cookingMethod === 'êµ­/íƒ•' || mealPurpose === 'ì¼ìƒ') {\n      goals.push('maintenance');\n    }\n    \n    return goals;\n  }\n}\n\n// ğŸ›’ ì¿ íŒ¡ ìƒí’ˆ ë§¤ì¹­ê¸°\nclass CoupangProductMatcher {\n  private findMatchingProduct(ingredientName: string): CoupangProduct | null {\n    // ì¬ë£Œëª… â†’ ì¿ íŒ¡ ìƒí’ˆ ë§¤í•‘ í…Œì´ë¸”\n    const productMapping: Record<string, string> = {\n      'ê³„ë€': 'prod-whole-egg-1',\n      'ë‹¹ê·¼': 'prod-carrot-1',\n      'ì•Œë°°ê¸°ë°°ì¶”': 'prod-cabbage-1',\n      'ì•„ë³´ì¹´ë„': 'prod-avocado-1',\n      'í›ˆì œì—°ì–´': 'prod-salmon-1',\n      // ë” ë§ì€ ë§¤í•‘ ì¶”ê°€ ê°€ëŠ¥\n    };\n    \n    const productId = productMapping[ingredientName];\n    if (productId) {\n      return mockProducts.find(p => p.id === productId) || null;\n    }\n    \n    // ë¶€ë¶„ ë§¤ì¹˜ ë¡œì§\n    const partialMatch = mockProducts.find(product => \n      product.name.includes(ingredientName) || \n      ingredientName.includes(product.name.split(' ')[0])\n    );\n    \n    return partialMatch || null;\n  }\n  \n  matchIngredients(ingredients: Array<{name: string; quantity: number; unit: string}>): RecipeIngredient[] {\n    return ingredients.map(ingredient => {\n      const product = this.findMatchingProduct(ingredient.name);\n      \n      return {\n        product: product || this.createFallbackProduct(ingredient.name),\n        quantity: ingredient.quantity,\n        unit: ingredient.unit,\n        isOptional: false\n      };\n    });\n  }\n  \n  private createFallbackProduct(ingredientName: string): CoupangProduct {\n    // ë§¤ì¹­ë˜ì§€ ì•ŠëŠ” ì¬ë£Œì— ëŒ€í•œ ê¸°ë³¸ ìƒí’ˆ ìƒì„±\n    return {\n      id: `fallback-${ingredientName}`,\n      name: `${ingredientName} (ì¿ íŒ¡)`,\n      price: 3000, // ê¸°ë³¸ ê°€ê²©\n      imageUrl: 'https://via.placeholder.com/200x200?text=' + encodeURIComponent(ingredientName),\n      coupangUrl: 'https://www.coupang.com/search?q=' + encodeURIComponent(ingredientName),\n      category: 'ì‹ì¬ë£Œ',\n      nutrition: { calories: 50, carb: 10, protein: 2, fat: 1, sodium: 100, sugar: 0 },\n      description: `${ingredientName} ìƒí’ˆ`,\n      brand: 'ì¼ë°˜',\n      weight: '1ê°œ',\n      rating: 4.0,\n      reviewCount: 100,\n      isRocketDelivery: false\n    };\n  }\n}\n\n// ğŸ¯ ë©”ì¸ ë³€í™˜ê¸° í´ë˜ìŠ¤\nexport class MankaeRecipeProcessor {\n  private nutritionCalculator = new NutritionCalculator();\n  private goalClassifier = new GoalClassifier();\n  private productMatcher = new CoupangProductMatcher();\n  \n  // ì¬ë£Œ ë¬¸ìì—´ íŒŒì‹± (ì‹¤ì œ CSV í˜•ì‹ì— ë§ì¶˜ ì™„ì „ ê°œì„  ë²„ì „)\n  private parseIngredients(ingredientText: string): Array<{name: string; quantity: number; unit: string}> {\n    const ingredients: Array<{name: string; quantity: number; unit: string}> = [];\n\n    console.log(`ğŸ§ª ì¬ë£Œ íŒŒì‹± ì‹œì‘: \"${ingredientText.substring(0, 100)}...\"`);\n\n    if (!ingredientText || ingredientText.trim() === '') {\n      console.log(`âš ï¸ ì¬ë£Œ í…ìŠ¤íŠ¸ê°€ ë¹„ì–´ìˆìŒ`);\n      return ingredients;\n    }\n\n    // ì‹¤ì œ CSV í˜•ì‹ ì²˜ë¦¬: \"[ì¬ë£Œ] ë–¡êµ­ë–¡400g| ë‹¤ì§„ì†Œê³ ê¸°100g| ...\"\n    const sections = ingredientText.split(/\\[ì¬ë£Œ\\]|\\[ì–‘ë…\\]|\\[ì†ŒìŠ¤\\]|\\[ìœ¡ìˆ˜\\]|\\[ê°„ì¥ì–‘ë…\\]|\\[ì–‘ë…ì¥\\]|\\[ì–¼ê°ˆì´ë°ì¹ ë•Œ\\]|\\[ë§Œë‘ì „ê³¨ ìœ¡ìˆ˜\\]|\\[ì „ê³¨ìš”ë¦¬ ì–‘ë…ì¥\\]/);\n\n    sections.forEach((section, sectionIndex) => {\n      if (!section.trim()) return;\n\n      console.log(`ğŸ” ì„¹ì…˜ ${sectionIndex}: \"${section.substring(0, 50)}...\"`);\n\n      const items = section.split('|').filter(item => item.trim());\n      console.log(`ğŸ“ ì•„ì´í…œ ê°œìˆ˜: ${items.length}`);\n\n      items.forEach((item, itemIndex) => {\n        const trimmed = item.trim();\n        if (!trimmed || trimmed === 'ì•½ê°„' || trimmed.length < 2) return;\n\n        console.log(`ğŸ” ì•„ì´í…œ ${itemIndex}: \"${trimmed}\"`);\n\n        let match = null;\n\n        // ğŸ”¥ ì‹¤ì œ CSV ë°ì´í„° íŒ¨í„´ì— ì™„ë²½í•˜ê²Œ ë§ì¶˜ ì •ê·œì‹ë“¤\n\n        // 1. \"ë¼ì§€ê³ ê¸°ìˆ˜ìœ¡ìš©ì‚¼ê²¹ì‚´500g\" í˜•íƒœ (ê³µë°± ì—†ëŠ” ê¸´ ì´ë¦„ + ìˆ«ì + í•œê¸€ë‹¨ìœ„)\n        match = trimmed.match(/^(.+[ê°€-í£])(\\d+(?:\\/\\d+)?(?:\\.\\d+)?)([ê°€-í£]+)$/);\n\n        // 2. \"ë©¸ì¹˜ìœ¡ìˆ˜800ml\" í˜•íƒœ (ê³µë°± ì—†ëŠ” ì´ë¦„ + ìˆ«ì + ì˜ì–´ë‹¨ìœ„)\n        if (!match) {\n          match = trimmed.match(/^(.+[ê°€-í£])(\\d+(?:\\/\\d+)?(?:\\.\\d+)?)([a-zA-Z]+)$/);\n        }\n\n        // 3. \"ë¼ì§€ê³ ê¸° ìˆ˜ìœ¡ìš©ì‚¼ê²¹ì‚´500g\" í˜•íƒœ (ê³µë°± í¬í•¨ ê¸´ ì´ë¦„ + ìˆ«ì + í•œê¸€ë‹¨ìœ„)\n        if (!match) {\n          match = trimmed.match(/^(.+?)\\s+(\\d+(?:\\/\\d+)?(?:\\.\\d+)?)([ê°€-í£]+)$/);\n        }\n\n        // 4. \"ëœì¥1.5í°ìˆ \" í˜•íƒœ (ì†Œìˆ˜ì  + í•œê¸€ë‹¨ìœ„)\n        if (!match) {\n          match = trimmed.match(/^(.+?)(\\d+(?:\\.\\d+)?)([ê°€-í£]+)$/);\n        }\n\n        // 5. \"ëŒ€íŒŒ1/3ëŒ€\" í˜•íƒœ (ë¶„ìˆ˜ + í•œê¸€ë‹¨ìœ„)\n        if (!match) {\n          match = trimmed.match(/^(.+?)(\\d+\\/\\d+)([ê°€-í£]+)$/);\n        }\n\n        // 6. \"ì°¸ê¸°ë¦„1T\" í˜•íƒœ (ì˜ì–´ ë‹¨ìœ„)\n        if (!match) {\n          match = trimmed.match(/^(.+?)(\\d+(?:\\/\\d+)?(?:\\.\\d+)?)([TtLl])$/);\n        }\n\n        // 7. \"ì†Œê¸ˆ\" í˜•íƒœ (ì´ë¦„ë§Œ, ìˆ˜ëŸ‰ 1ë¡œ ì„¤ì •)\n        if (!match && trimmed.length > 1 && !trimmed.includes('ì•½ê°„')) {\n          match = [trimmed, trimmed, '1', 'ê°œ'];\n        }\n\n        if (match) {\n          const [, name, quantityStr, unit] = match;\n          let quantity = parseFloat(quantityStr);\n\n          // ë¶„ìˆ˜ ì²˜ë¦¬ (1/3 â†’ 0.333)\n          if (quantityStr.includes('/')) {\n            const [numerator, denominator] = quantityStr.split('/').map(Number);\n            quantity = numerator / denominator;\n          }\n\n          const ingredient = {\n            name: name.trim(),\n            quantity,\n            unit: unit.trim()\n          };\n\n          ingredients.push(ingredient);\n          console.log(`âœ… ì¬ë£Œ ì¶”ê°€: ${ingredient.name} ${ingredient.quantity}${ingredient.unit}`);\n        } else {\n          console.log(`âŒ ë§¤ì¹­ ì‹¤íŒ¨: \"${trimmed}\"`);\n\n          // ì‹¤íŒ¨í•œ ê²½ìš°ë¼ë„ ìœ íš¨í•œ ì¬ë£Œëª… ì¶”ì¶œ ì‹œë„\n          // ìˆ«ìì™€ ë‹¨ìœ„ë¥¼ ì œì™¸í•œ ë‚˜ë¨¸ì§€ë¥¼ ì¬ë£Œëª…ìœ¼ë¡œ ê°„ì£¼\n          const nameOnlyMatch = trimmed.match(/^(.+?)(?:\\d|\\s*$)/);\n          if (nameOnlyMatch && nameOnlyMatch[1].trim().length > 1 &&\n              !trimmed.includes('ì•½ê°„') && !trimmed.includes('ì ë‹¹íˆ')) {\n\n            const fallbackIngredient = {\n              name: nameOnlyMatch[1].trim(),\n              quantity: 1,\n              unit: 'ê°œ'\n            };\n            ingredients.push(fallbackIngredient);\n            console.log(`ğŸ”„ í´ë°± ì¬ë£Œ ì¶”ê°€: ${fallbackIngredient.name} ${fallbackIngredient.quantity}${fallbackIngredient.unit}`);\n          }\n        }\n      });\n    });\n\n    console.log(`ğŸ“‹ ìµœì¢… ì¬ë£Œ ê°œìˆ˜: ${ingredients.length}`);\n    return ingredients;\n  }\n  \n  // ì¡°ë¦¬ì‹œê°„ ë³€í™˜\n  private parseTime(timeStr: string): number {\n    // null/undefined ì²´í¬ ì¶”ê°€\n    if (!timeStr || typeof timeStr !== 'string') {\n      console.log('âš ï¸ ì¡°ë¦¬ì‹œê°„ ì •ë³´ê°€ ì—†ìŒ, ê¸°ë³¸ê°’ 30ë¶„ ì‚¬ìš©');\n      return 30; // ê¸°ë³¸ê°’ 30ë¶„\n    }\n\n    if (timeStr.includes('ì‹œê°„')) {\n      const hours = parseInt(timeStr) || 1;\n      return hours * 60;\n    }\n\n    const minutes = parseInt(timeStr) || 15;\n    return minutes;\n  }\n\n  // ğŸ§ª íŒŒì‹± í•¨ìˆ˜ í…ŒìŠ¤íŠ¸ (ì„ì‹œ ë””ë²„ê¹…ìš©)\n  testParseIngredients(ingredientText: string): Array<{name: string; quantity: number; unit: string}> {\n    console.log('ğŸ§ª íŒŒì‹± í…ŒìŠ¤íŠ¸ ì‹œì‘:', ingredientText);\n    return this.parseIngredients(ingredientText);\n  }\n\n  // ğŸ”¥ ê¸´ê¸‰ ë””ë²„ê¹…: ì‹¤ì œ CSV ë°ì´í„°ë¡œ í…ŒìŠ¤íŠ¸\n  debugRealDataParsing() {\n    const testData = [\n      \"[ì¬ë£Œ] ë–¡êµ­ë–¡400g| ë‹¤ì§„ì†Œê³ ê¸°100g| ë©¸ì¹˜ìœ¡ìˆ˜800ml| ëŒ€íŒŒ1/3ëŒ€| ê³„ë€2ê°œ| ì°¸ê¸°ë¦„1T| êµ­ê°„ì¥1T\",\n      \"[ì¬ë£Œ] ë¼ì§€ê³ ê¸° ìˆ˜ìœ¡ìš©ì‚¼ê²¹ì‚´500g| ëœì¥1.5í°ìˆ | ìˆ 4í°ìˆ | í™ì–´ë¬´ì¹¨| ë¬´ìƒì±„| ì½©ë‚˜ë¬¼ë¬´ì¹¨\",\n      \"[ì¬ë£Œ] ë°°ì¶”3ì¥| ì–‘íŒŒ1/2ê°œ| ëŒ€íŒŒ1ëŒ€| ì²­ì–‘ê³ ì¶”2ê°œ\"\n    ];\n\n    testData.forEach((data, index) => {\n      console.log(`\\nğŸ§ª í…ŒìŠ¤íŠ¸ ${index + 1}: ${data}`);\n      const result = this.parseIngredients(data);\n      console.log(`ğŸ“‹ ê²°ê³¼: ${result.length}ê°œ ì¬ë£Œ íŒŒì‹±ë¨`);\n      result.forEach((ing, i) => {\n        console.log(`   ${i + 1}. ${ing.name}: ${ing.quantity}${ing.unit}`);\n      });\n    });\n  }\n  \n  // ì¸ë¶„ìˆ˜ ë³€í™˜\n  private parseServings(servingStr: string): number {\n    if (!servingStr || typeof servingStr !== 'string') {\n      return 2; // ê¸°ë³¸ê°’ 2ì¸ë¶„\n    }\n    const match = servingStr.match(/(\\d+)/);\n    return match ? parseInt(match[1]) : 2;\n  }\n  \n  // ë‚œì´ë„ ë³€í™˜\n  private parseDifficulty(difficultyStr: string): 'easy' | 'medium' | 'hard' {\n    // null/undefined ì²´í¬ ì¶”ê°€\n    if (!difficultyStr || typeof difficultyStr !== 'string') {\n      console.log('âš ï¸ ë‚œì´ë„ ì •ë³´ê°€ ì—†ìŒ, ê¸°ë³¸ê°’ medium ì‚¬ìš©');\n      return 'medium'; // ê¸°ë³¸ê°’ medium\n    }\n\n    if (difficultyStr.includes('ì´ˆê¸‰') || difficultyStr.includes('ì•„ë¬´ë‚˜')) return 'easy';\n    if (difficultyStr.includes('ì¤‘ê¸‰')) return 'medium';\n    return 'hard';\n  }\n  \n  // ì‹ì‚¬ íƒ€ì… ì¶”ë¡ \n  private inferMealType(\n    title: string, \n    category: string, \n    mealPurpose: string\n  ): 'breakfast' | 'lunch' | 'dinner' | 'snack' {\n    // null/undefined ì²´í¬\n    const safeTitle = title || '';\n    const safeCategory = category || '';\n    const safeMealPurpose = mealPurpose || '';\n    \n    const titleLower = safeTitle.toLowerCase();\n    \n    if (titleLower.includes('ì•„ì¹¨') || safeMealPurpose === 'ì•„ì¹¨ëŒ€ìš©') return 'breakfast';\n    if (titleLower.includes('ì ì‹¬')) return 'lunch';\n    if (titleLower.includes('ì €ë…') || safeMealPurpose === 'ìˆ ì•ˆì£¼') return 'dinner';\n    if (safeCategory === 'ì–‘ë…/ì†ŒìŠ¤/ì¼' || safeMealPurpose === 'ê°„ì‹') return 'snack';\n    \n    // ê¸°ë³¸ê°’: ìš”ë¦¬ ì¢…ë¥˜ì— ë”°ë¼ ê²°ì •\n    if (safeCategory === 'êµ­/íƒ•') return 'dinner';\n    if (safeCategory === 'ë°‘ë°˜ì°¬') return 'lunch';\n    \n    return 'lunch'; // ê¸°ë³¸ê°’\n  }\n  \n  // í’ˆì§ˆ ì ìˆ˜ ê³„ì‚°\n  private calculateQualityScore(views: number, scraps: number): {\n    overall: number; taste: number; difficulty: number; nutrition: number; reviewCount: number;\n  } {\n    // ì¡°íšŒìˆ˜ ê¸°ë°˜ ì ìˆ˜ (ìµœëŒ€ 5.0)\n    const viewScore = Math.min((views / 200) * 5, 5.0);\n    \n    // ìŠ¤í¬ë©ìœ¨ ê¸°ë°˜ ì ìˆ˜ (ìµœëŒ€ 5.0)\n    const engagementRate = views > 0 ? (scraps / views) * 100 : 0;\n    const engagementScore = Math.min(engagementRate * 50, 5.0);\n    \n    // ì „ì²´ ì ìˆ˜ (ì¡°íšŒìˆ˜ 70% + ìŠ¤í¬ë©ìœ¨ 30%)\n    const overall = (viewScore * 0.7 + engagementScore * 0.3);\n    \n    return {\n      overall: Math.round(overall * 10) / 10,\n      taste: Math.min(overall + 0.2, 5.0),\n      difficulty: Math.min(overall + 0.1, 5.0),\n      nutrition: Math.min(overall - 0.1, 5.0),\n      reviewCount: views\n    };\n  }\n  \n  // ğŸ¯ ë©”ì¸ ë³€í™˜ í•¨ìˆ˜ (ì„±ëŠ¥ ìµœì í™”)\n  processRecipe(rawData: MankaeLRecipeRaw): Recipe {\n    // ğŸ”¥ ê¸´ê¸‰ ë””ë²„ê¹…: ëª¨ë“  ë ˆì‹œí”¼ ì²˜ë¦¬ ê³¼ì • ì¶”ì \n    console.log(`ğŸ”„ ë ˆì‹œí”¼ ì²˜ë¦¬ ì‹œì‘: ${rawData.RCP_TTL}`);\n    console.log(`   - ì›ë³¸ ì¬ë£Œ ë°ì´í„°: \"${rawData.CKG_MTRL_CN?.substring(0, 100)}...\"`);\n\n    // 1ë‹¨ê³„: ì¬ë£Œ íŒŒì‹±\n    const ingredients = this.parseIngredients(rawData.CKG_MTRL_CN || '');\n    console.log(`   - íŒŒì‹±ëœ ì¬ë£Œ ìˆ˜: ${ingredients.length}ê°œ`);\n\n    if (ingredients.length > 0) {\n      console.log(`   - ìƒ˜í”Œ ì¬ë£Œ: ${ingredients.slice(0, 3).map(i => `${i.name}(${i.quantity}${i.unit})`).join(', ')}`);\n    }\n\n    // 2ë‹¨ê³„: ì˜ì–‘ì†Œ ê³„ì‚° (ìºì‹œ í™œìš©)\n    const nutrition = this.nutritionCalculator.calculateNutrition(ingredients);\n    console.log(`   - ê³„ì‚°ëœ ì˜ì–‘ì†Œ: ${nutrition.calories}kcal, ${nutrition.protein}g ë‹¨ë°±ì§ˆ`);\n\n    // 3ë‹¨ê³„: ëª©í‘œ ë¶„ë¥˜ (ìµœì í™”ëœ ì•Œê³ ë¦¬ì¦˜)\n    const goalFit = this.goalClassifier.classifyRecipeGoals(\n      ingredients,\n      rawData.CKG_MTH_ACTO_NM || '',\n      rawData.CKG_STA_ACTO_NM || '',\n      rawData.CKG_IPDC || '',\n      nutrition\n    );\n\n    console.log(`   - ë¶„ë¥˜ëœ ëª©í‘œ: [${goalFit.join(', ')}]`);\n    console.log('---');\n\n    // 4ë‹¨ê³„: í’ˆì§ˆ í‰ê°€\n    const userRatings = this.calculateQualityScore(rawData.INQ_CNT || 0, rawData.SRAP_CNT || 0);\n\n    // 5ë‹¨ê³„: Recipe ê°ì²´ ìƒì„±\n    const recipe: Recipe = {\n      id: `mankae-${rawData.RCP_SNO}`,\n      name: rawData.CKG_NM || 'ì œëª© ì—†ìŒ',\n      description: rawData.CKG_IPDC || 'ì„¤ëª… ì—†ìŒ',\n      image: rawData.RCP_IMG_URL || `https://images.unsplash.com/photo-1546833999-b9f581a1996d?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3`, // ì‹¤ì œ ì´ë¯¸ì§€ ë˜ëŠ” ê¸°ë³¸ ì´ë¯¸ì§€\n      cookingTime: this.parseTime(rawData.CKG_TIME_NM || ''),\n      difficulty: this.parseDifficulty(rawData.CKG_DODF_NM || ''),\n      instructions: this.generateInstructions(rawData.CKG_MTH_ACTO_NM || '', ingredients),\n      tags: this.generateTags(rawData, nutrition),\n      mealType: this.inferMealType(rawData.RCP_TTL || '', rawData.CKG_KND_ACTO_NM || '', rawData.CKG_STA_ACTO_NM || ''),\n      goalFit,\n      \n      // í™•ì¥ ì •ë³´ (ì„ íƒì )\n      nutritionHighlights: {\n        mainBenefits: this.generateNutritionBenefits(ingredients, nutrition),\n        calorieContext: `${nutrition.calories}kcalë¡œ ê· í˜•ì¡íŒ í•œ ë¼`,\n        dietaryInfo: this.generateDietaryInfo(ingredients, nutrition)\n      },\n      \n      userRatings,\n      \n      sourceInfo: {\n        chef: rawData.RGTR_NM || 'ì•Œ ìˆ˜ ì—†ìŒ',\n        source: 'chef_recipe',\n        verified: (rawData.INQ_CNT || 0) > 100, // ì¡°íšŒìˆ˜ 100 ì´ìƒì´ë©´ ê²€ì¦ëœ ê²ƒìœ¼ë¡œ ê°„ì£¼\n        lastUpdated: (rawData.FIRST_REG_DT || '20240101').substring(0, 8) // YYYYMMDD í˜•ì‹\n      }\n    };\n    \n    console.log(`âœ… ë³€í™˜ ì™„ë£Œ: ${recipe.name}`);\n    return recipe;\n  }\n  \n  // ì¡°ë¦¬ë²• ìƒì„±\n  private generateInstructions(cookingMethod: string, ingredients: Array<{name: string; quantity: number; unit: string}>): string[] {\n    const baseInstructions: Record<string, string[]> = {\n      'ë¶€ì¹¨': [\n        'íŒ¬ì— ê¸°ë¦„ì„ ë‘ë¥´ê³  ì¤‘ì•½ë¶ˆë¡œ ë‹¬ê¶ˆì£¼ì„¸ìš”',\n        'ì¬ë£Œë¥¼ ì˜¬ë¦¬ê³  ë…¸ë¦‡í•˜ê²Œ ë¶€ì³ì£¼ì„¸ìš”',\n        'ë’¤ì§‘ì–´ì„œ ë°˜ëŒ€ë©´ë„ ìµí˜€ì£¼ì„¸ìš”',\n        'ì™„ì„±ëœ ìš”ë¦¬ë¥¼ ì ‘ì‹œì— ë‹´ì•„ì£¼ì„¸ìš”'\n      ],\n      'ë³¶ìŒ': [\n        'íŒ¬ì„ ë‹¬êµ¬ê³  ê¸°ë¦„ì„ ë‘ë¥´ì„¸ìš”',\n        'ì¬ë£Œë¥¼ ë„£ê³  ì„¼ ë¶ˆì—ì„œ ë¹ ë¥´ê²Œ ë³¶ì•„ì£¼ì„¸ìš”',\n        'ì–‘ë…ì„ ë„£ê³  ê³¨ê³ ë£¨ ì„ì–´ì£¼ì„¸ìš”',\n        'ë¶ˆì„ ë„ê³  ì ‘ì‹œì— ë‹´ì•„ ì™„ì„±í•˜ì„¸ìš”'\n      ],\n      'ì°œ': [\n        'ì¬ë£Œë¥¼ ê¹¨ë—ì´ ì†ì§ˆí•˜ì—¬ ì¤€ë¹„í•˜ì„¸ìš”',\n        'ì°œê¸°ì— ë¬¼ì„ ë„£ê³  ë“ì—¬ì£¼ì„¸ìš”',\n        'ì¬ë£Œë¥¼ ì°œê¸°ì— ì˜¬ë¦¬ê³  ëšœê»‘ì„ ë®ì–´ì£¼ì„¸ìš”',\n        'ì¶©ë¶„íˆ ìµìœ¼ë©´ ì–‘ë…ê³¼ í•¨ê»˜ ì™„ì„±í•˜ì„¸ìš”'\n      ],\n      'ë“ì´ê¸°': [\n        'ëƒ„ë¹„ì— ë¬¼ì„ ë„£ê³  ë“ì—¬ì£¼ì„¸ìš”',\n        'ì¬ë£Œë¥¼ ë„£ê³  ì¤‘ë¶ˆì—ì„œ ë“ì—¬ì£¼ì„¸ìš”',\n        'ê°„ì„ ë§ì¶”ê³  ë” ë“ì—¬ì£¼ì„¸ìš”',\n        'ê·¸ë¦‡ì— ë‹´ì•„ ëœ¨ê²ê²Œ ì™„ì„±í•˜ì„¸ìš”'\n      ]\n    };\n    \n    return baseInstructions[cookingMethod] || [\n      'ì¬ë£Œë¥¼ ì¤€ë¹„í•˜ê³  ì†ì§ˆí•˜ì„¸ìš”',\n      'ì ì ˆí•œ ë°©ë²•ìœ¼ë¡œ ì¡°ë¦¬í•˜ì„¸ìš”',\n      'ê°„ì„ ë§ì¶”ê³  ì™„ì„±í•˜ì„¸ìš”'\n    ];\n  }\n  \n  // íƒœê·¸ ìƒì„±\n  private generateTags(rawData: MankaeLRecipeRaw, nutrition: {calories: number; protein: number}): string[] {\n    const tags: string[] = [];\n    \n    // ì¡°ë¦¬ë²• ê¸°ë°˜ - null ì²´í¬\n    if (rawData.CKG_MTH_ACTO_NM) {\n      tags.push(rawData.CKG_MTH_ACTO_NM);\n    }\n    \n    // ì˜ì–‘ ê¸°ë°˜\n    if (nutrition.protein > 15) tags.push('ê³ ë‹¨ë°±');\n    if (nutrition.calories < 200) tags.push('ì €ì¹¼ë¡œë¦¬');\n    \n    // ìƒí™© ê¸°ë°˜ - null ì²´í¬\n    if (rawData.CKG_STA_ACTO_NM === 'ì´ˆìŠ¤í”¼ë“œ') tags.push('ê°„í¸');\n    if (rawData.CKG_DODF_NM === 'ì•„ë¬´ë‚˜') tags.push('ì´ˆë³´ì');\n    \n    // ì‹œê°„ ê¸°ë°˜ - null ì²´í¬\n    if (rawData.CKG_TIME_NM && rawData.CKG_TIME_NM.includes('10ë¶„')) tags.push('10ë¶„ì™„ì„±');\n    if (rawData.CKG_TIME_NM && rawData.CKG_TIME_NM.includes('15ë¶„')) tags.push('15ë¶„ì™„ì„±');\n    \n    return tags;\n  }\n  \n  // ì˜ì–‘ í˜œíƒ ìƒì„±\n  private generateNutritionBenefits(\n    ingredients: Array<{name: string}>, \n    nutrition: {protein: number; calories: number}\n  ): string[] {\n    const benefits: string[] = [];\n    \n    if (nutrition.protein > 15) {\n      benefits.push(`ê³ ë‹¨ë°±ì§ˆ(${nutrition.protein}g)ë¡œ ê·¼ìœ¡ ê±´ê°•ì— ë„ì›€`);\n    }\n    \n    ingredients.forEach(ing => {\n      if (ing.name === 'ê³„ë€') benefits.push('ì™„ì „ë‹¨ë°±ì§ˆê³¼ ë¹„íƒ€ë¯¼ ê³µê¸‰');\n      if (ing.name === 'ë°°ì¶”') benefits.push('ì‹ì´ì„¬ìœ ì™€ ë¹„íƒ€ë¯¼C í’ë¶€');\n      if (ing.name === 'ì•„ë³´ì¹´ë„') benefits.push('ê±´ê°•í•œ ë¶ˆí¬í™”ì§€ë°©ì‚° í•¨ìœ ');\n    });\n    \n    return benefits;\n  }\n  \n  // ì‹ë‹¨ ì •ë³´ ìƒì„±\n  private generateDietaryInfo(\n    ingredients: Array<{name: string}>, \n    nutrition: {calories: number; protein: number}\n  ): ('ê¸€ë£¨í…í”„ë¦¬' | 'ì €íƒ„ìˆ˜í™”ë¬¼' | 'ê³ ë‹¨ë°±' | 'ì €ì§€ë°©' | 'ë¹„ê±´' | 'ì¼€í† ' | 'ì €ì¹¼ë¡œë¦¬')[] {\n    const info: ('ê¸€ë£¨í…í”„ë¦¬' | 'ì €íƒ„ìˆ˜í™”ë¬¼' | 'ê³ ë‹¨ë°±' | 'ì €ì§€ë°©' | 'ë¹„ê±´' | 'ì¼€í† ' | 'ì €ì¹¼ë¡œë¦¬')[] = [];\n    \n    if (nutrition.protein > 15) info.push('ê³ ë‹¨ë°±');\n    if (nutrition.calories < 200) info.push('ì €ì¹¼ë¡œë¦¬');\n    \n    const hasAnimalProducts = ingredients.some(ing => \n      ['ê³„ë€', 'ìš°ì‚¼ê²¹', 'í›ˆì œì—°ì–´'].includes(ing.name)\n    );\n    if (!hasAnimalProducts) info.push('ë¹„ê±´');\n    \n    return info;\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}