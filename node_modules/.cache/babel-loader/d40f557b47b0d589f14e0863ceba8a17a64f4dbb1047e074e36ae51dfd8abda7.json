{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{Box,Container,VStack,HStack,Text,Button,Card,CardBody,Heading,Image,Badge,useToast}from'@chakra-ui/react';import{ArrowBackIcon,TimeIcon}from'@chakra-ui/icons';import{useAppContext}from'../context/AppContext';import{getRecipesByGoal,getRecipeIngredients,recipeLoader}from'../data/recipeData';import{calculateRecipeFrequency}from'../utils/personalizedRecommendation';import{debugRecipeMapping}from'../utils/recipeDebugger';import Layout from'./Layout/Layout';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RecommendationScreen=()=>{const navigate=useNavigate();const toast=useToast();const{userInput,recommendationResult,setSelectedProduct,userProfile// ÏÇ¨Ïö©Ïûê Î™©Ìëú Ï†ïÎ≥¥ Í∞ÄÏ†∏Ïò§Í∏∞\n}=useAppContext();// üç≥ ÏÇ¨Ïö©Ïûê Î™©ÌëúÏóê ÎßûÎäî Î†àÏãúÌîº Í∞ÄÏ†∏Ïò§Í∏∞ (ÎπÑÎèôÍ∏∞) - hooksÎ•º Ï°∞Í±¥Î∂Ä Î¶¨ÌÑ¥ Ï†ÑÏóê ÏÑ†Ïñ∏\nconst[recommendedRecipes,setRecommendedRecipes]=useState([]);const[isLoadingRecipes,setIsLoadingRecipes]=useState(true);const[recipeStats,setRecipeStats]=useState(null);useEffect(()=>{// Ï∂îÏ≤ú Í≤∞Í≥ºÍ∞Ä ÏóÜÏúºÎ©¥ Î©îÏù∏ ÌéòÏù¥ÏßÄÎ°ú Î¶¨Îã§Ïù¥Î†âÌä∏\nif(!recommendationResult){toast({title:\"Ï∂îÏ≤ú Í≤∞Í≥ºÎ•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§\",description:\"Î©îÏù∏ ÌéòÏù¥ÏßÄÎ°ú ÎèåÏïÑÍ∞ÄÏÑú Îã§Ïãú ÏãúÎèÑÌï¥Ï£ºÏÑ∏Ïöî.\",status:\"error\",duration:3000,isClosable:true});navigate('/');return;}const loadRecipes=async()=>{setIsLoadingRecipes(true);try{// üîç ÎîîÎ≤ÑÍπÖ Ïã§Ìñâ\nconsole.log('üîç === Î†àÏãúÌîº Îß§Ìïë ÎîîÎ≤ÑÍπÖ ÏãúÏûë ===');debugRecipeMapping();// Ï∫êÏãú ÏßÑÎã®\nconsole.log('üîç === Ï∫êÏãú ÏßÑÎã® ÏãúÏûë ===');await recipeLoader.diagnoseCacheStatus();// ÏÇ¨Ïö©Ïûê Î™©Ìëú ÌôïÏù∏ Î∞è ÏÑ§Ï†ï\nconst userGoal=userProfile.goal||'maintenance';console.log('üéØ ÏÇ¨Ïö©Ïûê Î™©Ìëú:',userGoal);// Î™©ÌëúÍ∞Ä ÏóÜÏúºÎ©¥ Í∏∞Î≥∏Í∞íÏúºÎ°ú ÏÑ§Ï†ï\nif(!userProfile.goal){console.log('‚ö†Ô∏è ÏÇ¨Ïö©Ïûê Î™©ÌëúÍ∞Ä ÏÑ§Ï†ïÎêòÏßÄ ÏïäÏùå, Í∏∞Î≥∏Í∞í(maintenance)ÏúºÎ°ú ÏÑ§Ï†ï');}// Î†àÏãúÌîº Î°úÎìú\nconst recipes=await getRecipesByGoal(userGoal);console.log('üìã Î°úÎìúÎêú Î†àÏãúÌîº Ïàò:',recipes.length);console.log('üìã Î†àÏãúÌîº IDÎì§:',recipes.map(r=>r.id));if(recipes.length===0){console.error('‚ö†Ô∏è Î†àÏãúÌîºÍ∞Ä ÌïòÎÇòÎèÑ Î°úÎìúÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§!');console.log('üí° CSV ÌååÏùºÏù¥ Ï†úÎåÄÎ°ú Î°úÎìúÎêòÎäîÏßÄ ÎÑ§Ìä∏ÏõåÌÅ¨ ÌÉ≠ÏóêÏÑú ÌôïÏù∏ÌïòÏÑ∏Ïöî');console.log('üí° Î∏åÎùºÏö∞Ï†Ä ÏΩòÏÜîÏóêÏÑú ÏóêÎü¨ Î©îÏãúÏßÄÎ•º ÌôïÏù∏ÌïòÏÑ∏Ïöî');// ÌÜµÍ≥Ñ Ï†ïÎ≥¥Î°ú CSV Î°úÎìú Ïó¨Î∂Ä ÌôïÏù∏\nconst stats=await recipeLoader.getStatistics();console.log('üìä CSV ÌÜµÍ≥Ñ:',stats);if(stats.totalRecipes===0){console.error('‚ùå CSV ÌååÏùºÏù¥ Î°úÎìúÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§!');}}setRecommendedRecipes(recipes);// ÌÜµÍ≥Ñ Ï†ïÎ≥¥ Î°úÎìú\nconst stats=await recipeLoader.getStatistics();setRecipeStats(stats);}catch(error){console.error('‚ùå Î†àÏãúÌîº Î°úÎìú Ïã§Ìå®:',error);// ÏóêÎü¨ ÏÉÅÏÑ∏ Ï†ïÎ≥¥\nif(error instanceof Error){console.error('ÏóêÎü¨ Î©îÏãúÏßÄ:',error.message);console.error('ÏóêÎü¨ Ïä§ÌÉù:',error.stack);}// Îπà Î∞∞Ïó¥Î°ú ÏÑ§Ï†ïÌïòÏó¨ UI ÌÅ¨ÎûòÏãú Î∞©ÏßÄ\nsetRecommendedRecipes([]);}finally{setIsLoadingRecipes(false);}};loadRecipes();},[userProfile.goal]);// recommendationResultÍ∞Ä ÏóÜÏúºÎ©¥ Î°úÎî© ÏÉÅÌÉú ÌëúÏãú\nif(!recommendationResult){return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(Container,{maxW:\"container.xl\",py:8,children:/*#__PURE__*/_jsx(Text,{textAlign:\"center\",children:\"\\uB85C\\uB529 \\uC911...\"})})});}const{totalBudgetUsed,budgetRemaining,nutritionBalance,message,nutritionTargets,userInsights}=recommendationResult;// ÏãúÍ∞ÑÎåÄÎ≥Ñ Î†àÏãúÌîº Î∂ÑÎ•ò\nconst mealTypeRecipes={breakfast:recommendedRecipes.filter(r=>r.mealType==='breakfast'),lunch:recommendedRecipes.filter(r=>r.mealType==='lunch'),dinner:recommendedRecipes.filter(r=>r.mealType==='dinner')};// ÏÉÅÌíà ÌÅ¥Î¶≠ Ìï∏Îì§Îü¨\nconst handleProductClick=product=>{setSelectedProduct(product);navigate(\"/product/\".concat(product.id));};// Îã§Ïãú ÏûÖÎ†•ÌïòÍ∏∞ Ìï∏Îì§Îü¨\nconst handleBackToInput=()=>{navigate('/');};const budgetUsagePercentage=totalBudgetUsed/userInput.budget*100;// üé® Ïª¥Ìå©Ìä∏ Î†àÏãúÌîº Ïπ¥Îìú Ïª¥Ìè¨ÎÑåÌä∏\nconst CompactRecipeCard=_ref=>{let{recipe}=_ref;const[showAllIngredients,setShowAllIngredients]=useState(false);const[showAllInstructions,setShowAllInstructions]=useState(false);const ingredients=getRecipeIngredients(recipe.id);const totalPrice=ingredients.reduce((sum,ing)=>sum+ing.product.price,0);// üçΩÔ∏è Î†àÏãúÌîº Ï†úÏ°∞ ÎπàÎèÑ Î∂ÑÏÑù\nconst recipeFrequency=calculateRecipeFrequency(recipe.id);// üßÆ ÏòÅÏñëÏÜå Í≥ÑÏÇ∞ (Ïû¨Î£åÎ≥Ñ ÏòÅÏñëÏÜå √ó ÏÇ¨Ïö©Îüâ)\nconst totalNutrition=ingredients.reduce((total,ing)=>{const product=ing.product;const ratio=ing.quantity/100;// 100g Í∏∞Ï§ÄÏúºÎ°ú Í≥ÑÏÇ∞\nreturn{calories:total.calories+product.nutrition.calories*ratio,carb:total.carb+product.nutrition.carb*ratio,protein:total.protein+product.nutrition.protein*ratio,fat:total.fat+product.nutrition.fat*ratio,sodium:total.sodium+product.nutrition.sodium*ratio,sugar:total.sugar+product.nutrition.sugar*ratio};},{calories:0,carb:0,protein:0,fat:0,sodium:0,sugar:0});return/*#__PURE__*/_jsx(Card,{borderRadius:\"xl\",overflow:\"hidden\",shadow:\"md\",_hover:{transform:\"translateY(-2px)\",shadow:\"lg\"},transition:\"all 0.2s ease\",bg:\"white\",border:\"1px\",borderColor:\"gray.200\",children:/*#__PURE__*/_jsx(CardBody,{p:4,children:/*#__PURE__*/_jsxs(HStack,{spacing:4,align:\"start\",children:[/*#__PURE__*/_jsxs(Box,{position:\"relative\",flexShrink:0,children:[/*#__PURE__*/_jsx(Image,{src:recipe.image,alt:recipe.name,w:\"120px\",h:\"120px\",objectFit:\"cover\",borderRadius:\"lg\",fallbackSrc:\"https://via.placeholder.com/120x120?text=\\uD83C\\uDF7D\\uFE0F\"}),/*#__PURE__*/_jsx(Badge,{position:\"absolute\",top:2,right:2,colorScheme:recipe.difficulty==='easy'?'green':recipe.difficulty==='medium'?'orange':'red',size:\"sm\",borderRadius:\"md\",children:recipe.difficulty==='easy'?'Ïâ¨ÏõÄ':recipe.difficulty==='medium'?'Î≥¥ÌÜµ':'Ïñ¥Î†§ÏõÄ'})]}),/*#__PURE__*/_jsx(VStack,{spacing:3,align:\"stretch\",flex:1,children:/*#__PURE__*/_jsxs(VStack,{spacing:2,align:\"stretch\",children:[/*#__PURE__*/_jsx(Heading,{size:\"md\",color:\"gray.800\",fontWeight:\"600\",noOfLines:1,children:recipe.name}),/*#__PURE__*/_jsx(Text,{color:\"gray.600\",fontSize:\"sm\",noOfLines:2,lineHeight:\"1.4\",children:recipe.description}),/*#__PURE__*/_jsxs(HStack,{spacing:4,wrap:\"wrap\",children:[/*#__PURE__*/_jsxs(HStack,{spacing:1,children:[/*#__PURE__*/_jsx(TimeIcon,{boxSize:3,color:\"orange.500\"}),/*#__PURE__*/_jsxs(Text,{fontSize:\"xs\",fontWeight:\"medium\",children:[recipe.cookingTime,\"\\uBD84\"]})]}),/*#__PURE__*/_jsxs(Text,{fontSize:\"xs\",color:\"gray.500\",children:[\"\\uC7AC\\uB8CC \",ingredients.length,\"\\uAC1C\"]}),/*#__PURE__*/_jsxs(Text,{fontSize:\"sm\",fontWeight:\"bold\",color:\"teal.600\",children:[totalPrice.toLocaleString(),\"\\uC6D0\"]})]})]})}),/*#__PURE__*/_jsx(VStack,{spacing:2,flexShrink:0,children:/*#__PURE__*/_jsx(Button,{size:\"sm\",colorScheme:\"teal\",variant:\"outline\",borderRadius:\"lg\",onClick:()=>{// Ïû¨Î£åÍ∞Ä ÏûàÎäî Ï≤´ Î≤àÏß∏ ÏÉÅÌíàÏúºÎ°ú Ïù¥Îèô\nif(ingredients.length>0){handleProductClick(ingredients[0].product);}},w:\"full\",py:2,fontSize:\"sm\",fontWeight:\"bold\",_hover:{bg:\"teal.50\",borderColor:\"teal.500\",transform:\"translateY(-1px)\"},transition:\"all 0.2s ease\",children:\"\\uD83D\\uDED2 \\uC7AC\\uB8CC \\uBCF4\\uAE30\"})})]})})});};return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(Container,{maxW:\"6xl\",py:8,children:/*#__PURE__*/_jsxs(VStack,{spacing:8,align:\"stretch\",children:[/*#__PURE__*/_jsx(Card,{bg:\"white\",borderRadius:\"2xl\",shadow:\"lg\",border:\"1px\",borderColor:\"gray.200\",children:/*#__PURE__*/_jsx(CardBody,{p:6,children:/*#__PURE__*/_jsx(HStack,{justify:\"space-between\",align:\"center\",children:/*#__PURE__*/_jsxs(HStack,{spacing:4,children:[/*#__PURE__*/_jsx(Button,{leftIcon:/*#__PURE__*/_jsx(ArrowBackIcon,{}),variant:\"ghost\",colorScheme:\"gray\",onClick:handleBackToInput,children:\"\\uB2E4\\uC2DC \\uC785\\uB825\\uD558\\uAE30\"}),/*#__PURE__*/_jsxs(VStack,{align:\"start\",spacing:1,children:[/*#__PURE__*/_jsxs(Heading,{size:\"lg\",color:\"gray.800\",children:[\"\\uD83C\\uDF73 \",userProfile.goal==='weight_loss'?'Îã§Ïù¥Ïñ¥Ìä∏':userProfile.goal==='muscle_gain'?'Í∑ºÏÑ±Ïû•':'Í±¥Í∞ï Ïú†ÏßÄ',\" \\uB9DE\\uCDA4 \\uB808\\uC2DC\\uD53C\"]}),/*#__PURE__*/_jsx(Text,{fontSize:\"sm\",color:\"gray.600\",children:\"\\uBAA9\\uD45C\\uC5D0 \\uCD5C\\uC801\\uD654\\uB41C \\uB9DB\\uC788\\uB294 \\uC694\\uB9AC \\uB808\\uC2DC\\uD53C\\uB97C \\uCD94\\uCC9C\\uB4DC\\uB824\\uC694\"})]})]})})})}),/*#__PURE__*/_jsx(Box,{textAlign:\"center\",py:4,children:/*#__PURE__*/_jsxs(VStack,{spacing:3,children:[/*#__PURE__*/_jsxs(HStack,{spacing:3,justify:\"center\",children:[/*#__PURE__*/_jsx(Box,{w:\"50px\",h:\"1px\",bg:\"blue.300\"}),/*#__PURE__*/_jsx(Text,{fontSize:\"2xl\",children:\"\\uD83C\\uDF7D\\uFE0F\"}),/*#__PURE__*/_jsx(Box,{w:\"50px\",h:\"1px\",bg:\"blue.300\"})]}),/*#__PURE__*/_jsxs(Heading,{size:\"lg\",color:\"gray.700\",children:[\"\\uD83C\\uDFAF \",userProfile.goal==='weight_loss'?'Îã§Ïù¥Ïñ¥Ìä∏':userProfile.goal==='muscle_gain'?'Í∑ºÏÑ±Ïû•':'Í±¥Í∞ï Ïú†ÏßÄ',\" \\uB9DE\\uCDA4 \\uB808\\uC2DC\\uD53C\"]}),isLoadingRecipes&&/*#__PURE__*/_jsxs(HStack,{spacing:2,children:[/*#__PURE__*/_jsx(Progress,{size:\"xs\",isIndeterminate:true,colorScheme:\"blue\",w:\"200px\"}),/*#__PURE__*/_jsx(Text,{fontSize:\"sm\",color:\"gray.600\",children:\"\\uB9CC\\uAC1C\\uC758 \\uB808\\uC2DC\\uD53C \\uB85C\\uB529 \\uC911...\"})]}),/*#__PURE__*/_jsx(Text,{fontSize:\"sm\",color:\"gray.600\",maxW:\"500px\",children:\"\\uC704 \\uC608\\uC0B0\\uACFC \\uC601\\uC591 \\uBAA9\\uD45C\\uC5D0 \\uB9DE\\uCDB0 \\uC120\\uBCC4\\uB41C \\uB808\\uC2DC\\uD53C\\uB4E4\\uC785\\uB2C8\\uB2E4. \\uAC01 \\uB808\\uC2DC\\uD53C\\uB294 \\uAD6C\\uB9E4 \\uAC00\\uB2A5 \\uD69F\\uC218\\uC640 1\\uD68C\\uB2F9 \\uBE44\\uC6A9\\uC774 \\uACC4\\uC0B0\\uB418\\uC5B4 \\uC788\\uC5B4\\uC694!\"})]})}),/*#__PURE__*/_jsx(Card,{bg:\"gradient-to-r from-teal.50 to-green.50\",borderRadius:\"xl\",overflow:\"hidden\",children:/*#__PURE__*/_jsx(CardBody,{p:6,children:/*#__PURE__*/_jsxs(VStack,{spacing:4,textAlign:\"center\",mb:6,children:[/*#__PURE__*/_jsxs(Text,{fontSize:\"lg\",fontWeight:\"bold\",color:\"teal.700\",children:[\"\\uD83C\\uDFAF \",userProfile.goal==='weight_loss'?'Îã§Ïù¥Ïñ¥Ìä∏':userProfile.goal==='muscle_gain'?'Í∑ºÏÑ±Ïû•':'Í±¥Í∞ï Ïú†ÏßÄ',\" \\uBAA9\\uD45C\\uC5D0 \\uCD5C\\uC801\\uD654\\uB41C \\uB9DE\\uCDA4 \\uB808\\uC2DC\\uD53C\"]}),/*#__PURE__*/_jsx(Text,{color:\"gray.600\",fontSize:\"sm\",children:\"\\uAC01 \\uC694\\uB9AC\\uB97C \\uD074\\uB9AD\\uD558\\uBA74 \\uC0C1\\uC138 \\uC870\\uB9AC\\uBC95\\uACFC \\uC7AC\\uB8CC \\uC815\\uBCF4\\uB97C \\uD655\\uC778\\uD560 \\uC218 \\uC788\\uC5B4\\uC694\"})]})})}),/*#__PURE__*/_jsx(Card,{bg:\"white\",borderRadius:\"xl\",shadow:\"sm\",children:/*#__PURE__*/_jsx(CardBody,{p:6,children:/*#__PURE__*/_jsxs(VStack,{spacing:4,align:\"stretch\",children:[/*#__PURE__*/_jsx(Heading,{size:\"md\",color:\"gray.700\",textAlign:\"center\",children:\"\\uD83C\\uDF7D\\uFE0F \\uCD94\\uCC9C \\uB808\\uC2DC\\uD53C\"}),/*#__PURE__*/_jsx(VStack,{spacing:3,align:\"stretch\",children:recommendedRecipes.map(recipe=>/*#__PURE__*/_jsx(CompactRecipeCard,{recipe:recipe},recipe.id))})]})})}),/*#__PURE__*/_jsx(HStack,{spacing:4,justify:\"center\",children:/*#__PURE__*/_jsx(Button,{colorScheme:\"gray\",variant:\"outline\",size:\"lg\",onClick:handleBackToInput,leftIcon:/*#__PURE__*/_jsx(ArrowBackIcon,{}),children:\"\\uB2E4\\uC2DC \\uC785\\uB825\\uD558\\uAE30\"})})]})})});};export default RecommendationScreen;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Box","Container","VStack","HStack","Text","Button","Card","CardBody","Heading","Image","Badge","useToast","ArrowBackIcon","TimeIcon","useAppContext","getRecipesByGoal","getRecipeIngredients","recipeLoader","calculateRecipeFrequency","debugRecipeMapping","Layout","jsx","_jsx","jsxs","_jsxs","RecommendationScreen","navigate","toast","userInput","recommendationResult","setSelectedProduct","userProfile","recommendedRecipes","setRecommendedRecipes","isLoadingRecipes","setIsLoadingRecipes","recipeStats","setRecipeStats","title","description","status","duration","isClosable","loadRecipes","console","log","diagnoseCacheStatus","userGoal","goal","recipes","length","map","r","id","error","stats","getStatistics","totalRecipes","Error","message","stack","children","maxW","py","textAlign","totalBudgetUsed","budgetRemaining","nutritionBalance","nutritionTargets","userInsights","mealTypeRecipes","breakfast","filter","mealType","lunch","dinner","handleProductClick","product","concat","handleBackToInput","budgetUsagePercentage","budget","CompactRecipeCard","_ref","recipe","showAllIngredients","setShowAllIngredients","showAllInstructions","setShowAllInstructions","ingredients","totalPrice","reduce","sum","ing","price","recipeFrequency","totalNutrition","total","ratio","quantity","calories","nutrition","carb","protein","fat","sodium","sugar","borderRadius","overflow","shadow","_hover","transform","transition","bg","border","borderColor","p","spacing","align","position","flexShrink","src","image","alt","name","w","h","objectFit","fallbackSrc","top","right","colorScheme","difficulty","size","flex","color","fontWeight","noOfLines","fontSize","lineHeight","wrap","boxSize","cookingTime","toLocaleString","variant","onClick","justify","leftIcon","Progress","isIndeterminate","mb"],"sources":["/Users/kim_seung_bin/Desktop/ksb/public/dev/kkssbbb-github-repo/SmartMealPlanner_front/src/components/RecommendationScreen.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport {\n  Box,\n  Container,\n  VStack,\n  HStack,\n  Text,\n  Button,\n  Card,\n  CardBody,\n  Heading,\n  Image,\n  Badge,\n  useToast,\n} from '@chakra-ui/react';\nimport { ArrowBackIcon, ExternalLinkIcon, TimeIcon, InfoIcon } from '@chakra-ui/icons';\nimport { useAppContext } from '../context/AppContext';\nimport { CoupangProduct, Recipe } from '../types';\nimport { getRecipesByGoal, getRecipeIngredients, recipeLoader } from '../data/recipeData';\nimport { calculateRecipeFrequency } from '../utils/personalizedRecommendation';\nimport { debugRecipeMapping } from '../utils/recipeDebugger';\n\nimport Layout from './Layout/Layout';\n\nconst RecommendationScreen: React.FC = () => {\n  const navigate = useNavigate();\n  const toast = useToast();\n  const {\n    userInput,\n    recommendationResult,\n    setSelectedProduct,\n    userProfile // ÏÇ¨Ïö©Ïûê Î™©Ìëú Ï†ïÎ≥¥ Í∞ÄÏ†∏Ïò§Í∏∞\n  } = useAppContext();\n\n  // üç≥ ÏÇ¨Ïö©Ïûê Î™©ÌëúÏóê ÎßûÎäî Î†àÏãúÌîº Í∞ÄÏ†∏Ïò§Í∏∞ (ÎπÑÎèôÍ∏∞) - hooksÎ•º Ï°∞Í±¥Î∂Ä Î¶¨ÌÑ¥ Ï†ÑÏóê ÏÑ†Ïñ∏\n  const [recommendedRecipes, setRecommendedRecipes] = useState<Recipe[]>([]);\n  const [isLoadingRecipes, setIsLoadingRecipes] = useState(true);\n  const [recipeStats, setRecipeStats] = useState<any>(null);\n  \n  useEffect(() => {\n    // Ï∂îÏ≤ú Í≤∞Í≥ºÍ∞Ä ÏóÜÏúºÎ©¥ Î©îÏù∏ ÌéòÏù¥ÏßÄÎ°ú Î¶¨Îã§Ïù¥Î†âÌä∏\n    if (!recommendationResult) {\n      toast({\n        title: \"Ï∂îÏ≤ú Í≤∞Í≥ºÎ•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§\",\n        description: \"Î©îÏù∏ ÌéòÏù¥ÏßÄÎ°ú ÎèåÏïÑÍ∞ÄÏÑú Îã§Ïãú ÏãúÎèÑÌï¥Ï£ºÏÑ∏Ïöî.\",\n        status: \"error\",\n        duration: 3000,\n        isClosable: true,\n      });\n      navigate('/');\n      return;\n    }\n    \n    const loadRecipes = async () => {\n      setIsLoadingRecipes(true);\n      try {\n        // üîç ÎîîÎ≤ÑÍπÖ Ïã§Ìñâ\n        console.log('üîç === Î†àÏãúÌîº Îß§Ìïë ÎîîÎ≤ÑÍπÖ ÏãúÏûë ===');\n        debugRecipeMapping();\n        \n        // Ï∫êÏãú ÏßÑÎã®\n        console.log('üîç === Ï∫êÏãú ÏßÑÎã® ÏãúÏûë ===');\n        await recipeLoader.diagnoseCacheStatus();\n        \n        // ÏÇ¨Ïö©Ïûê Î™©Ìëú ÌôïÏù∏ Î∞è ÏÑ§Ï†ï\n        const userGoal = userProfile.goal || 'maintenance';\n        console.log('üéØ ÏÇ¨Ïö©Ïûê Î™©Ìëú:', userGoal);\n        \n        // Î™©ÌëúÍ∞Ä ÏóÜÏúºÎ©¥ Í∏∞Î≥∏Í∞íÏúºÎ°ú ÏÑ§Ï†ï\n        if (!userProfile.goal) {\n          console.log('‚ö†Ô∏è ÏÇ¨Ïö©Ïûê Î™©ÌëúÍ∞Ä ÏÑ§Ï†ïÎêòÏßÄ ÏïäÏùå, Í∏∞Î≥∏Í∞í(maintenance)ÏúºÎ°ú ÏÑ§Ï†ï');\n        }\n        \n        // Î†àÏãúÌîº Î°úÎìú\n        const recipes = await getRecipesByGoal(userGoal);\n        console.log('üìã Î°úÎìúÎêú Î†àÏãúÌîº Ïàò:', recipes.length);\n        console.log('üìã Î†àÏãúÌîº IDÎì§:', recipes.map(r => r.id));\n        \n        if (recipes.length === 0) {\n          console.error('‚ö†Ô∏è Î†àÏãúÌîºÍ∞Ä ÌïòÎÇòÎèÑ Î°úÎìúÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§!');\n          console.log('üí° CSV ÌååÏùºÏù¥ Ï†úÎåÄÎ°ú Î°úÎìúÎêòÎäîÏßÄ ÎÑ§Ìä∏ÏõåÌÅ¨ ÌÉ≠ÏóêÏÑú ÌôïÏù∏ÌïòÏÑ∏Ïöî');\n          console.log('üí° Î∏åÎùºÏö∞Ï†Ä ÏΩòÏÜîÏóêÏÑú ÏóêÎü¨ Î©îÏãúÏßÄÎ•º ÌôïÏù∏ÌïòÏÑ∏Ïöî');\n          \n          // ÌÜµÍ≥Ñ Ï†ïÎ≥¥Î°ú CSV Î°úÎìú Ïó¨Î∂Ä ÌôïÏù∏\n          const stats = await recipeLoader.getStatistics();\n          console.log('üìä CSV ÌÜµÍ≥Ñ:', stats);\n          if (stats.totalRecipes === 0) {\n            console.error('‚ùå CSV ÌååÏùºÏù¥ Î°úÎìúÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§!');\n          }\n        }\n        \n        setRecommendedRecipes(recipes);\n        \n        // ÌÜµÍ≥Ñ Ï†ïÎ≥¥ Î°úÎìú\n        const stats = await recipeLoader.getStatistics();\n        setRecipeStats(stats);\n      } catch (error) {\n        console.error('‚ùå Î†àÏãúÌîº Î°úÎìú Ïã§Ìå®:', error);\n        \n        // ÏóêÎü¨ ÏÉÅÏÑ∏ Ï†ïÎ≥¥\n        if (error instanceof Error) {\n          console.error('ÏóêÎü¨ Î©îÏãúÏßÄ:', error.message);\n          console.error('ÏóêÎü¨ Ïä§ÌÉù:', error.stack);\n        }\n        \n        // Îπà Î∞∞Ïó¥Î°ú ÏÑ§Ï†ïÌïòÏó¨ UI ÌÅ¨ÎûòÏãú Î∞©ÏßÄ\n        setRecommendedRecipes([]);\n      } finally {\n        setIsLoadingRecipes(false);\n      }\n    };\n    \n    loadRecipes();\n  }, [userProfile.goal]);\n\n  // recommendationResultÍ∞Ä ÏóÜÏúºÎ©¥ Î°úÎî© ÏÉÅÌÉú ÌëúÏãú\n  if (!recommendationResult) {\n    return (\n      <Layout>\n        <Container maxW=\"container.xl\" py={8}>\n          <Text textAlign=\"center\">Î°úÎî© Ï§ë...</Text>\n        </Container>\n      </Layout>\n    );\n  }\n\n  const { \n    totalBudgetUsed, \n    budgetRemaining, \n    nutritionBalance, \n    message, \n    nutritionTargets,\n    userInsights \n  } = recommendationResult;\n  \n  // ÏãúÍ∞ÑÎåÄÎ≥Ñ Î†àÏãúÌîº Î∂ÑÎ•ò\n  const mealTypeRecipes = {\n    breakfast: recommendedRecipes.filter(r => r.mealType === 'breakfast'),\n    lunch: recommendedRecipes.filter(r => r.mealType === 'lunch'),\n    dinner: recommendedRecipes.filter(r => r.mealType === 'dinner'),\n  };\n\n  // ÏÉÅÌíà ÌÅ¥Î¶≠ Ìï∏Îì§Îü¨\n  const handleProductClick = (product: CoupangProduct) => {\n    setSelectedProduct(product);\n    navigate(`/product/${product.id}`);\n  };\n\n  // Îã§Ïãú ÏûÖÎ†•ÌïòÍ∏∞ Ìï∏Îì§Îü¨\n  const handleBackToInput = () => {\n    navigate('/');\n  };\n\n  const budgetUsagePercentage = (totalBudgetUsed / userInput.budget) * 100;\n\n  // üé® Ïª¥Ìå©Ìä∏ Î†àÏãúÌîº Ïπ¥Îìú Ïª¥Ìè¨ÎÑåÌä∏\n  const CompactRecipeCard: React.FC<{ recipe: Recipe }> = ({ recipe }) => {\n    const [showAllIngredients, setShowAllIngredients] = useState(false);\n    const [showAllInstructions, setShowAllInstructions] = useState(false);\n    const ingredients = getRecipeIngredients(recipe.id);\n    const totalPrice = ingredients.reduce((sum: number, ing: any) => sum + ing.product.price, 0);\n    \n    // üçΩÔ∏è Î†àÏãúÌîº Ï†úÏ°∞ ÎπàÎèÑ Î∂ÑÏÑù\n    const recipeFrequency = calculateRecipeFrequency(recipe.id);\n    \n    // üßÆ ÏòÅÏñëÏÜå Í≥ÑÏÇ∞ (Ïû¨Î£åÎ≥Ñ ÏòÅÏñëÏÜå √ó ÏÇ¨Ïö©Îüâ)\n    const totalNutrition = ingredients.reduce((total: any, ing: any) => {\n      const product = ing.product;\n      const ratio = ing.quantity / 100; // 100g Í∏∞Ï§ÄÏúºÎ°ú Í≥ÑÏÇ∞\n      \n      return {\n        calories: total.calories + (product.nutrition.calories * ratio),\n        carb: total.carb + (product.nutrition.carb * ratio),\n        protein: total.protein + (product.nutrition.protein * ratio),\n        fat: total.fat + (product.nutrition.fat * ratio),\n        sodium: total.sodium + (product.nutrition.sodium * ratio),\n        sugar: total.sugar + (product.nutrition.sugar * ratio),\n      };\n    }, {\n      calories: 0,\n      carb: 0,\n      protein: 0,\n      fat: 0,\n      sodium: 0,\n      sugar: 0,\n    });\n\n    return (\n      <Card \n        borderRadius=\"xl\" \n        overflow=\"hidden\" \n        shadow=\"md\"\n        _hover={{ transform: \"translateY(-2px)\", shadow: \"lg\" }}\n        transition=\"all 0.2s ease\"\n        bg=\"white\"\n        border=\"1px\"\n        borderColor=\"gray.200\"\n      >\n        <CardBody p={4}>\n          <HStack spacing={4} align=\"start\">\n            {/* üì∏ Ïª¥Ìå©Ìä∏ Ïù¥ÎØ∏ÏßÄ */}\n            <Box position=\"relative\" flexShrink={0}>\n              <Image \n                src={recipe.image} \n                alt={recipe.name} \n                w=\"120px\" \n                h=\"120px\" \n                objectFit=\"cover\" \n                borderRadius=\"lg\"\n                fallbackSrc=\"https://via.placeholder.com/120x120?text=üçΩÔ∏è\"\n              />\n              <Badge \n                position=\"absolute\" \n                top={2} \n                right={2} \n                colorScheme={recipe.difficulty === 'easy' ? 'green' : recipe.difficulty === 'medium' ? 'orange' : 'red'} \n                size=\"sm\" \n                borderRadius=\"md\"\n              >\n                {recipe.difficulty === 'easy' ? 'Ïâ¨ÏõÄ' : recipe.difficulty === 'medium' ? 'Î≥¥ÌÜµ' : 'Ïñ¥Î†§ÏõÄ'}\n              </Badge>\n            </Box>\n\n            {/* üìù Î†àÏãúÌîº Ï†ïÎ≥¥ */}\n            <VStack spacing={3} align=\"stretch\" flex={1}>\n              <VStack spacing={2} align=\"stretch\">\n                <Heading size=\"md\" color=\"gray.800\" fontWeight=\"600\" noOfLines={1}>\n                  {recipe.name}\n                </Heading>\n                <Text color=\"gray.600\" fontSize=\"sm\" noOfLines={2} lineHeight=\"1.4\">\n                  {recipe.description}\n                </Text>\n                \n                {/* ÌïµÏã¨ Ï†ïÎ≥¥ Ïª¥Ìå©Ìä∏ ÌëúÏãú */}\n                <HStack spacing={4} wrap=\"wrap\">\n                  <HStack spacing={1}>\n                    <TimeIcon boxSize={3} color=\"orange.500\" />\n                    <Text fontSize=\"xs\" fontWeight=\"medium\">{recipe.cookingTime}Î∂Ñ</Text>\n                  </HStack>\n                  <Text fontSize=\"xs\" color=\"gray.500\">Ïû¨Î£å {ingredients.length}Í∞ú</Text>\n                  <Text fontSize=\"sm\" fontWeight=\"bold\" color=\"teal.600\">\n                    {totalPrice.toLocaleString()}Ïõê\n                  </Text>\n                </HStack>\n\n\n\n\n\n\n                        </VStack>\n                        </VStack>\n\n            {/* üéØ Ïû¨Î£å Î≥¥Í∏∞ Î≤ÑÌäº */}\n            <VStack spacing={2} flexShrink={0}>\n              <Button \n                size=\"sm\" \n                colorScheme=\"teal\"\n                variant=\"outline\"\n                borderRadius=\"lg\" \n                onClick={() => { \n                  // Ïû¨Î£åÍ∞Ä ÏûàÎäî Ï≤´ Î≤àÏß∏ ÏÉÅÌíàÏúºÎ°ú Ïù¥Îèô\n                  if (ingredients.length > 0) {\n                    handleProductClick(ingredients[0].product);\n                  }\n                }}\n                w=\"full\"\n                    py={2}\n                fontSize=\"sm\"\n                    fontWeight=\"bold\"\n                _hover={{ \n                  bg: \"teal.50\", \n                  borderColor: \"teal.500\",\n                  transform: \"translateY(-1px)\" \n                }}\n                                    transition=\"all 0.2s ease\"\n              >\n                üõí Ïû¨Î£å Î≥¥Í∏∞\n              </Button>\n            </VStack>\n          </HStack>\n        </CardBody>\n      </Card>\n    );\n  };\n\n  return (\n    <Layout>\n      <Container maxW=\"6xl\" py={8}>\n        <VStack spacing={8} align=\"stretch\">\n          {/* Ìó§Îçî */}\n          <Card bg=\"white\" borderRadius=\"2xl\" shadow=\"lg\" border=\"1px\" borderColor=\"gray.200\">\n            <CardBody p={6}>\n              <HStack justify=\"space-between\" align=\"center\">\n                <HStack spacing={4}>\n                  <Button \n                    leftIcon={<ArrowBackIcon />} \n                    variant=\"ghost\" \n                    colorScheme=\"gray\"\n                    onClick={handleBackToInput}\n                  >\n                    Îã§Ïãú ÏûÖÎ†•ÌïòÍ∏∞\n                  </Button>\n                  <VStack align=\"start\" spacing={1}>\n                    <Heading size=\"lg\" color=\"gray.800\">\n                      üç≥ {userProfile.goal === 'weight_loss' ? 'Îã§Ïù¥Ïñ¥Ìä∏' : \n                          userProfile.goal === 'muscle_gain' ? 'Í∑ºÏÑ±Ïû•' : 'Í±¥Í∞ï Ïú†ÏßÄ'} ÎßûÏ∂§ Î†àÏãúÌîº\n                    </Heading>\n                    <Text fontSize=\"sm\" color=\"gray.600\">\n                      Î™©ÌëúÏóê ÏµúÏ†ÅÌôîÎêú ÎßõÏûàÎäî ÏöîÎ¶¨ Î†àÏãúÌîºÎ•º Ï∂îÏ≤úÎìúÎ†§Ïöî\n                    </Text>\n                  </VStack>\n                </HStack>\n              </HStack>\n            </CardBody>\n          </Card>\n\n\n\n\n\n          {/* üç≥ Î†àÏãúÌîº ÏÑπÏÖò Ïó∞Í≤∞ Ìó§Îçî */}\n          <Box textAlign=\"center\" py={4}>\n            <VStack spacing={3}>\n              <HStack spacing={3} justify=\"center\">\n                <Box w=\"50px\" h=\"1px\" bg=\"blue.300\"></Box>\n                <Text fontSize=\"2xl\">üçΩÔ∏è</Text>\n                <Box w=\"50px\" h=\"1px\" bg=\"blue.300\"></Box>\n              </HStack>\n              <Heading size=\"lg\" color=\"gray.700\">\n                üéØ {userProfile.goal === 'weight_loss' ? 'Îã§Ïù¥Ïñ¥Ìä∏' : \n                    userProfile.goal === 'muscle_gain' ? 'Í∑ºÏÑ±Ïû•' : 'Í±¥Í∞ï Ïú†ÏßÄ'} ÎßûÏ∂§ Î†àÏãúÌîº\n              </Heading>\n              {isLoadingRecipes && (\n                <HStack spacing={2}>\n                  <Progress size=\"xs\" isIndeterminate colorScheme=\"blue\" w=\"200px\" />\n                  <Text fontSize=\"sm\" color=\"gray.600\">ÎßåÍ∞úÏùò Î†àÏãúÌîº Î°úÎî© Ï§ë...</Text>\n                </HStack>\n              )}\n              <Text fontSize=\"sm\" color=\"gray.600\" maxW=\"500px\">\n                ÏúÑ ÏòàÏÇ∞Í≥º ÏòÅÏñë Î™©ÌëúÏóê ÎßûÏ∂∞ ÏÑ†Î≥ÑÎêú Î†àÏãúÌîºÎì§ÏûÖÎãàÎã§. Í∞Å Î†àÏãúÌîºÎäî Íµ¨Îß§ Í∞ÄÎä• ÌöüÏàòÏôÄ 1ÌöåÎãπ ÎπÑÏö©Ïù¥ Í≥ÑÏÇ∞ÎêòÏñ¥ ÏûàÏñ¥Ïöî!\n              </Text>\n            </VStack>\n          </Box>\n\n\n\n          {/* üç≥ Ïª¥Ìå©Ìä∏ Î†àÏãúÌîº ÌÉ≠ */}\n          <Card bg=\"gradient-to-r from-teal.50 to-green.50\" borderRadius=\"xl\" overflow=\"hidden\">\n            <CardBody p={6}>\n              <VStack spacing={4} textAlign=\"center\" mb={6}>\n                <Text fontSize=\"lg\" fontWeight=\"bold\" color=\"teal.700\">\n                  üéØ {userProfile.goal === 'weight_loss' ? 'Îã§Ïù¥Ïñ¥Ìä∏' : \n                      userProfile.goal === 'muscle_gain' ? 'Í∑ºÏÑ±Ïû•' : 'Í±¥Í∞ï Ïú†ÏßÄ'} Î™©ÌëúÏóê \n                  ÏµúÏ†ÅÌôîÎêú ÎßûÏ∂§ Î†àÏãúÌîº\n                </Text>\n                <Text color=\"gray.600\" fontSize=\"sm\">\n                  Í∞Å ÏöîÎ¶¨Î•º ÌÅ¥Î¶≠ÌïòÎ©¥ ÏÉÅÏÑ∏ Ï°∞Î¶¨Î≤ïÍ≥º Ïû¨Î£å Ï†ïÎ≥¥Î•º ÌôïÏù∏Ìï† Ïàò ÏûàÏñ¥Ïöî\n                </Text>\n              </VStack>\n            </CardBody>\n          </Card>\n\n          {/* Ï∂îÏ≤ú Î†àÏãúÌîº ÌÜµÌï© Î¶¨Ïä§Ìä∏ */}\n          <Card bg=\"white\" borderRadius=\"xl\" shadow=\"sm\">\n            <CardBody p={6}>\n              <VStack spacing={4} align=\"stretch\">\n                <Heading size=\"md\" color=\"gray.700\" textAlign=\"center\">\n                  üçΩÔ∏è Ï∂îÏ≤ú Î†àÏãúÌîº\n                </Heading>\n                <VStack spacing={3} align=\"stretch\">\n                  {recommendedRecipes.map((recipe) => (\n                    <CompactRecipeCard key={recipe.id} recipe={recipe} />\n                  ))}\n                </VStack>\n              </VStack>\n            </CardBody>\n          </Card>\n\n          {/* ÌïòÎã® Ïï°ÏÖò Î≤ÑÌäº */}\n          <HStack spacing={4} justify=\"center\">\n            <Button \n              colorScheme=\"gray\" \n              variant=\"outline\" \n              size=\"lg\" \n              onClick={handleBackToInput} \n              leftIcon={<ArrowBackIcon />}\n            >\n              Îã§Ïãú ÏûÖÎ†•ÌïòÍ∏∞\n            </Button>\n          </HStack>\n\n\n        </VStack>\n      </Container>\n    </Layout>\n  );\n};\n\nexport default RecommendationScreen;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}